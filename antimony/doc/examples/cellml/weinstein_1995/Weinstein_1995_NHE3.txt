//Created by libAntimony v1.4
model weinstein_1995__environment(time_)
end

model weinstein_1995__Concentrations(C_ext_Na, C_ext_H, C_ext_NH4, C_int_Na, C_int_H, C_int_NH4, time_)

  // Rate Rules:
  C_ext_Na' = 10;

  // Variable initializations:
  C_ext_Na = 140;
  C_ext_H = 4.95e-2;
  C_ext_NH4 = 0.2;
  C_int_Na = 19.6;
  C_int_H = 1e-3;
  C_int_NH4 = 0.23;
end

model weinstein_1995__NHE3_Parameters(XTxP0_NHE3_Na, XTxP0_NHE3_H, XTxP0_NHE3_NH4, K_NHE3_Na, K_NHE3_H, K_NHE3_NH4)

  // Variable initializations:
  XTxP0_NHE3_Na = 1.6e-3;
  XTxP0_NHE3_H = 0.48e-3;
  XTxP0_NHE3_NH4 = 1.6e-3;
  K_NHE3_Na = 0.03e3;
  K_NHE3_H = 72e-6;
  K_NHE3_NH4 = 0.027e3;
end

model weinstein_1995__NHE3(C_ext_Na, C_ext_H, C_ext_NH4, C_int_Na, C_int_H, C_int_NH4, XTxP0_NHE3_Na, XTxP0_NHE3_H, XTxP0_NHE3_NH4, K_NHE3_Na, K_NHE3_H, K_NHE3_NH4, J_NHE3_Na, J_NHE3_H, J_NHE3_NH4)

  // Assignment Rules:
  XTxP_NHE3_Na := XTxP0_NHE3_Na * 2 * C_int_H / (C_int_H + 1E-6 );
  XTxP_NHE3_H := XTxP0_NHE3_H * 2 * C_int_H / (C_int_H + 1E-6 );
  XTxP_NHE3_NH4 := XTxP0_NHE3_NH4 * 2 * C_int_H / (C_int_H + 1E-6 );
  alpha_ext_Na := C_ext_Na / K_NHE3_Na;
  beta_ext_H := C_ext_H / K_NHE3_H;
  gamma_ext_NH4 := C_ext_NH4 / K_NHE3_NH4;
  alpha_int_Na := C_int_Na / K_NHE3_Na;
  beta_int_H := C_int_H / K_NHE3_H;
  gamma_int_NH4 := C_int_NH4 / K_NHE3_NH4;
  sum_NHE3 := (1 + alpha_ext_Na + beta_ext_H + gamma_ext_NH4) * (XTxP_NHE3_Na * alpha_int_Na + XTxP_NHE3_H * beta_int_H + XTxP_NHE3_NH4 * gamma_int_NH4) + (1 + alpha_int_Na + beta_int_H + gamma_int_NH4) * (XTxP_NHE3_Na * alpha_ext_Na + XTxP_NHE3_H * beta_ext_H + XTxP_NHE3_NH4 * gamma_ext_NH4);
  J_NHE3_Na := XTxP_NHE3_Na * XTxP_NHE3_H / sum_NHE3 * (alpha_ext_Na * beta_int_H - alpha_int_Na * beta_ext_H) + XTxP_NHE3_Na * XTxP_NHE3_NH4 / sum_NHE3 * (alpha_ext_Na * gamma_int_NH4 - alpha_int_Na * gamma_ext_NH4);
  J_NHE3_H := XTxP_NHE3_Na * XTxP_NHE3_H / sum_NHE3 * (alpha_int_Na * beta_ext_H - alpha_ext_Na * beta_int_H) + XTxP_NHE3_H * XTxP_NHE3_NH4 / sum_NHE3 * (beta_ext_H * gamma_int_NH4 - beta_int_H * gamma_ext_NH4);
  J_NHE3_NH4 := XTxP_NHE3_Na * XTxP_NHE3_NH4 / sum_NHE3 * (alpha_int_Na * gamma_ext_NH4 - alpha_ext_Na * gamma_int_NH4) + XTxP_NHE3_H * XTxP_NHE3_NH4 / sum_NHE3 * (gamma_ext_NH4 * beta_int_H - beta_ext_H * gamma_int_NH4);
end

model weinstein_1995____main()

  // Sub-modules, and any changes to those submodules:
  environment: weinstein_1995__environment(time_);
  Concentrations: weinstein_1995__Concentrations(C_ext_Na, C_ext_H, C_ext_NH4, C_int_Na, C_int_H, C_int_NH4, time_);
  NHE3_Parameters: weinstein_1995__NHE3_Parameters(XTxP0_NHE3_Na, XTxP0_NHE3_H, XTxP0_NHE3_NH4, K_NHE3_Na, K_NHE3_H, K_NHE3_NH4);
  NHE3: weinstein_1995__NHE3(C_ext_Na, C_ext_H, C_ext_NH4, C_int_Na, C_int_H, C_int_NH4, XTxP0_NHE3_Na, XTxP0_NHE3_H, XTxP0_NHE3_NH4, K_NHE3_Na, K_NHE3_H, K_NHE3_NH4, J_NHE3_Na, J_NHE3_H, J_NHE3_NH4);
end
