//Created by libAntimony v1.3
model lovell_cloherty_celler_dokos_2004_version01__environment(time_)
end

model lovell_cloherty_celler_dokos_2004_version01__membrane(Em, time_, i_f, i_Kr, i_Ks, i_bNa, i_Na, i_NaK, i_NaCa, i_to, i_CaL, i_CaT, i_bK, i_bCl)

  // Rate Rules:
  Em' = -(( i_f + i_Kr + i_Ks + i_bNa + i_Na + i_NaK + i_NaCa + i_to + i_CaL + i_CaT + i_bK + i_bCl )) / Cm;

  // Variable initializations:
  Em = -6.395E1;
  Cm = 3.2E-2;
end

model lovell_cloherty_celler_dokos_2004_version01__reversal_potentials(E_Na, E_Cl, E_Ca_rev, E_K, R, T, F, Nai, Nao, Cai, Cao, Ki, Ko, Cli, Clo)

  // Assignment Rules:
  E_Na := R * T / F * ln( Nao / Nai );
  E_Cl := R * T / ( -1.0 * F ) * ln( Clo / Cli );
  E_Ca_rev := R * T / ( 2.0 * F ) * ln( Cao / Cai );
  E_K := R * T / F * ln( Ko / Ki );

  // Variable initializations:
  R = 8.3144;
  T = 310.15;
  F = 96485;
end

model lovell_cloherty_celler_dokos_2004_version01__L_type_calcium_current(i_CaL, E_Ca_rev, time_, Em, Cai)

  // Assignment Rules:
  i_CaL := g_CaL * A_CaL * ( Em - E_Ca_rev );
  alpha1 := alpha1_infinity + ( alpha1_0 - alpha1_infinity ) / ( 1.0 + exp(( Em - alpha1_E50 ) / alpha1_Eslope ));
  alpha2 := alpha2_infinity + ( alpha2_0 - alpha2_infinity ) / ( 1.0 + exp(( Em - alpha2_E50 ) / alpha2_Eslope ));
  beta1 := beta1_infinity + ( beta1_0 - beta1_infinity ) / ( 1.0 + exp(( Em - beta1_E50 ) / beta1_Eslope ));
  beta2 := beta2_infinity + ( beta2_0 - beta2_infinity ) / ( 1.0 + exp(( Em - beta2_E50 ) / beta2_Eslope ));

  // Rate Rules:
  A_CaL' = alpha1 * I3 + beta1 * I1 - ( beta1 + alpha2 ) * A_CaL;
  I1' = alpha2 * A_CaL + beta3 * I2 - ( beta2 + alpha3 + power( Cai , 2.0 )) * I1;
  I2' = alpha3 * power( Cai , 2.0 ) * I1 + beta4 * power( Cai , 2.0 ) * I3 - ( beta3 + alpha4 ) * I2;
  I3' = beta1 * A_CaL + alpha4 * I2 - ( alpha1 + beta4 * power( Cai , 2.0 )) * I3;

  // Variable initializations:
  g_CaL = 1.604E2;
  A_CaL = 4.564E-4;
  I1 = 9.601E-1;
  I2 = 5.261E-3;
  alpha3 = 1.395E5;
  alpha4 = 4.945;
  beta3 = 7.648;
  beta4 = 4.051E6;
  alpha1_0 = 1.115E2;
  alpha1_infinity = 2.451E3;
  alpha1_E50 = -3.116E1;
  alpha1_Eslope = 8.815;
  alpha2_0 = 9.622E1;
  alpha2_infinity = 1.409E1;
  alpha2_E50 = 3.116;
  alpha2_Eslope = 5.936;
  beta1_0 = 1.283E4;
  beta1_infinity = 4.701E3;
  beta1_E50 = -2.448E1;
  beta1_Eslope = 7.300;
  beta2_0 = 1.950E-1;
  beta2_infinity = 5.984E-2;
  beta2_E50 = 5.934;
  beta2_Eslope = 1.395E5;
end

model lovell_cloherty_celler_dokos_2004_version01__T_type_calcium_current(i_CaT, E_Ca_rev, time_, Em)

  // Assignment Rules:
  i_CaT := g_CaT * A_CaT * ( Em - E_Ca_rev );
  alpha1 := alpha1_infinity + ( alpha1_0 - alpha1_infinity ) / ( 1.0 + exp(( Em - alpha1_E50 ) / alpha1_Eslope ));
  alpha2 := alpha2_infinity + ( alpha2_0 - alpha2_infinity ) / ( 1.0 + exp(( Em - alpha2_E50 ) / alpha2_Eslope ));
  alpha3 := alpha3_infinity + ( alpha3_0 - alpha3_infinity ) / ( 1.0 + exp(( Em - alpha3_E50 ) / alpha3_Eslope ));
  beta1 := beta1_infinity + ( beta1_0 - beta1_infinity ) / ( 1.0 + exp(( Em - beta1_E50 ) / beta1_Eslope ));
  beta3 := beta3_infinity + ( beta3_0 - beta3_infinity ) / ( 1.0 + exp(( Em - beta3_E50 ) / beta3_Eslope ));

  // Rate Rules:
  A_CaT' = alpha1 * I2 - ( beta1 + alpha2 ) * A_CaT;
  I1' = alpha2 * A_CaT + beta3 * I2 - alpha3 * I1;
  I2' = alpha3 * I1 + beta1 * A_CaT - ( beta3 + alpha1 ) * I2;

  // Variable initializations:
  g_CaT = 6.816E2;
  A_CaT = 1.562E-5;
  I1 = 9.985E-1;
  alpha1_0 = 0.0;
  alpha1_infinity = 1.203E3;
  alpha1_E50 = -3.442E1;
  alpha1_Eslope = 6.143;
  alpha2_0 = 2.458E2;
  alpha2_infinity = 1.304E3;
  alpha2_E50 = -1.978E1;
  alpha2_Eslope = 1.260E1;
  alpha3_0 = 1.003E-1;
  alpha3_infinity = 1.157E-2;
  alpha3_E50 = 6.079;
  alpha3_Eslope = 4.938E-1;
  beta1_0 = 8.075E2;
  beta1_infinity = 9.663;
  beta1_E50 = -3.025E1;
  beta1_Eslope = 2.580E1;
  beta3_0 = 1.914;
  beta3_infinity = 4.490E2;
  beta3_E50 = -3.948E1;
  beta3_Eslope = 1.295E1;
end

model lovell_cloherty_celler_dokos_2004_version01__rapid_delayed_rectifying_potassium_current(i_Kr, i_Kr_Na, i_Kr_K, E_Na, E_K, time_, Em)

  // Assignment Rules:
  i_Kr := i_Kr_Na + i_Kr_K;
  i_Kr_Na := g_Kr * A_Kr * PKNa_r * ( Em - E_Na );
  i_Kr_K := g_Kr * A_Kr * ( Em - E_K );
  alpha1 := alpha1_infinity + ( alpha1_0 - alpha1_infinity ) / ( 1.0 + exp(( Em - alpha1_E50 ) / alpha1_Eslope ));
  alpha2 := alpha2_infinity + ( alpha2_0 - alpha2_infinity ) / ( 1.0 + exp(( Em - alpha2_E50 ) / alpha2_Eslope ));
  alpha3 := alpha3_infinity + ( alpha3_0 - alpha3_infinity ) / ( 1.0 + exp(( Em - alpha3_E50 ) / alpha3_Eslope ));
  alpha4 := alpha4_infinity + ( alpha4_0 - alpha4_infinity ) / ( 1.0 + exp(( Em - alpha4_E50 ) / alpha4_Eslope ));
  beta1 := beta1_infinity + ( beta1_0 - beta1_infinity ) / ( 1.0 + exp(( Em - beta1_E50 ) / beta1_Eslope ));
  beta4 := beta4_infinity + ( beta4_0 - beta4_infinity ) / ( 1.0 + exp(( Em - beta4_E50 ) / beta4_Eslope ));

  // Rate Rules:
  A_Kr' = alpha1 * I3 - ( beta1 + alpha2 ) * A_Kr;
  I1' = alpha2 * A_Kr - alpha3 * I1;
  I2' = alpha3 * I1 + beta4 * I3 - alpha4 * I2;
  I3' = beta1 * A_Kr + alpha4 * I2 - ( alpha1 + beta4 ) * I3;

  // Variable initializations:
  g_Kr = 4.714;
  PKNa_r = 3.042E-2;
  A_Kr = 1.209E-1;
  I1 = 1.991E-3;
  I2 = 5.617E-2;
  alpha1_0 = 2.924E-1;
  alpha1_infinity = 1.796;
  alpha1_E50 = -2.821;
  alpha1_Eslope = 1.591E1;
  alpha2_0 = 8.011E-4;
  alpha2_infinity = 2.815E1;
  alpha2_E50 = 2.607E1;
  alpha2_Eslope = 4.849;
  alpha3_0 = 0.0;
  alpha3_infinity = 1.382E1;
  alpha3_E50 = -1.706;
  alpha3_Eslope = 8.661;
  alpha4_0 = 8.526E1;
  alpha4_infinity = 5.840;
  alpha4_E50 = 1.663E1;
  alpha4_Eslope = 1.906E1;
  beta1_0 = 1.161E-1;
  beta1_infinity = 5.201E1;
  beta1_E50 = -6.477;
  beta1_Eslope = 1.149E1;
  beta4_0 = 5.728;
  beta4_infinity = 5.372E2;
  beta4_E50 = 4.594E1;
  beta4_Eslope = 4.646;
end

model lovell_cloherty_celler_dokos_2004_version01__slow_delayed_rectifying_potassium_current(i_Ks, i_Ks_Na, i_Ks_K, E_Na, E_K, time_, Em)

  // Assignment Rules:
  i_Ks := i_Ks_Na + i_Ks_K;
  i_Ks_Na := g_Ks * A_Ks * PKNa_s * ( Em - E_Na );
  i_Ks_K := g_Ks * A_Ks * ( Em - E_K );
  alpha1 := alpha1_infinity + ( alpha1_0 - alpha1_infinity ) / ( 1.0 + exp(( Em - alpha1_E50 ) / alpha1_Eslope ));
  alpha2 := alpha2_infinity + ( alpha2_0 - alpha2_infinity ) / ( 1.0 + exp(( Em - alpha2_E50 ) / alpha2_Eslope ));
  alpha3 := alpha3_infinity + ( alpha3_0 - alpha3_infinity ) / ( 1.0 + exp(( Em - alpha3_E50 ) / alpha3_Eslope ));
  beta1 := beta1_infinity + ( beta1_0 - beta1_infinity ) / ( 1.0 + exp(( Em - beta1_E50 ) / beta1_Eslope ));
  beta3 := beta3_infinity + ( beta3_0 - beta3_infinity ) / ( 1.0 + exp(( Em - beta3_E50 ) / beta3_Eslope ));

  // Rate Rules:
  A_Ks' = alpha1 * I2 - ( beta1 + alpha2 ) * A_Ks;
  I1' = alpha2 * A_Ks + beta3 * I2 - alpha3 * I1;
  I2' = alpha3 * I1 + beta1 * A_Ks - ( alpha1 + beta3 ) * I2;

  // Variable initializations:
  g_Ks = 1.328E1;
  PKNa_s = 3.053E-2;
  A_Ks = 5.049E-3;
  I1 = 9.921E-1;
  alpha1_0 = 1.455;
  alpha1_infinity = 1.590E1;
  alpha1_E50 = 3.403E1;
  alpha1_Eslope = 9.464;
  alpha2_0 = 7.619E-1;
  alpha2_infinity = 7.207E-2;
  alpha2_E50 = 1.021E1;
  alpha2_Eslope = 2.584;
  alpha3_0 = 0.0;
  alpha3_infinity = 1.690E1;
  alpha3_E50 = 4.216E1;
  alpha3_Eslope = 8.481;
  beta1_0 = 3.628E-3;
  beta1_infinity = 4.191;
  beta1_E50 = 2.231E1;
  beta1_Eslope = 1.063E1;
  beta3_0 = 1.772;
  beta3_infinity = 4.141E-1;
  beta3_E50 = 9.822;
  beta3_Eslope = 1.280E1;
end

model lovell_cloherty_celler_dokos_2004_version01__TTX_sensitive_sodium_current(i_Na, g_Na, E_Na, time_, Em)

  // Assignment Rules:
  i_Na := g_Na * A_Na * ( Em - E_Na );
  alpha1 := alpha1_infinity + ( alpha1_0 - alpha1_infinity ) / ( 1.0 + exp(( Em - alpha1_E50 ) / alpha1_Eslope ));
  alpha2 := alpha2_infinity + ( alpha2_0 - alpha2_infinity ) / ( 1.0 + exp(( Em - alpha2_E50 ) / alpha2_Eslope ));
  alpha3 := alpha3_infinity + ( alpha3_0 - alpha3_infinity ) / ( 1.0 + exp(( Em - alpha3_E50 ) / alpha3_Eslope ));
  alpha4 := alpha4_infinity + ( alpha4_0 - alpha4_infinity ) / ( 1.0 + exp(( Em - alpha4_E50 ) / alpha4_Eslope ));
  beta1 := beta1_infinity + ( beta1_0 - beta1_infinity ) / ( 1.0 + exp(( Em - beta1_E50 ) / beta1_Eslope ));
  beta4 := beta4_infinity + ( beta4_0 - beta4_infinity ) / ( 1.0 + exp(( Em - beta4_E50 ) / beta4_Eslope ));

  // Rate Rules:
  A_Na' = alpha1 * I3 - ( beta1 + alpha2 ) * A_Na;
  I1' = alpha2 * A_Na - alpha3 * I1;
  I2' = alpha3 * I1 + beta4 * I3 - alpha4 * I2;
  I3' = beta1 * A_Na + alpha4 * I2 - ( alpha1 + beta4 ) * I3;

  // Variable initializations:
  g_Na = 2.889;
  A_Na = 5.586E-4;
  I1 = 3.750E-1;
  I2 = 1.039E-1;
  alpha1_0 = 1.022E-31;
  alpha1_infinity = 4.355E5;
  alpha1_E50 = -3.808E1;
  alpha1_Eslope = 4.402;
  alpha2_0 = 2.950E1;
  alpha2_infinity = 1.710E2;
  alpha2_E50 = -1.841E1;
  alpha2_Eslope = 1.661E1;
  alpha3_0 = 0.0;
  alpha3_infinity = 2.031;
  alpha3_E50 = -3.004E1;
  alpha3_Eslope = 1.275E-1;
  alpha4_0 = 6.000E1;
  alpha4_infinity = 0.0;
  alpha4_E50 = -5.556E1;
  alpha4_Eslope = 4.849;
  beta1_0 = 1.133E6;
  beta1_infinity = 4.104E5;
  beta1_E50 = -2.239;
  beta1_Eslope = 1.651;
  beta4_0 = 1.831E-4;
  beta4_infinity = 1.904E3;
  beta4_E50 = 1.821E1;
  beta4_Eslope = 1.466E1;
end

model lovell_cloherty_celler_dokos_2004_version01__sodium_calcium_exchange_current(i_NaCa, Cai, Cao, Nao, Nai, R, T, F, Em)

  // Assignment Rules:
  i_NaCa := kNaCa * (( x2 * k21 - x1 * k12 ) / ( x1 + x2 + x3 + x4 ));
  x1 := k41 * k34 * ( k23 + k21 ) + k21 * k32 * ( k43 + k41 );
  x2 := k32 * k43 * ( k14 + k12 ) + k41 * k12 * ( k34 + k32 );
  x3 := k14 * k43 * ( k23 + k21 ) + k12 * k23 * ( k43 + k41 );
  x4 := k23 * k34 * ( k14 + k12 ) + k14 * k21 * ( k34 + k32 );
  k41 := exp(-(( Em * Qn * F / ( 2.0 * R * T ))));
  k34 := Nao / ( K3no + Nao );
  k23 := power( Nao , 2.0 ) * ( 1.0 + Nao / K3no ) * exp(-(( Qn * Em * F / ( 2.0 * R * T )))) / ( K1no * K2no * D2 );
  k21 := Cao / Kco * exp( Qco * Em * F / ( R * T )) / D2;
  k32 := exp( Qn * Em * F / ( 2.0 * R * T ));
  k43 := Nai / ( K3ni + Nai );
  k12 := Cai * exp(-(( Em * Qci * F / ( R * T )))) / ( Kci * D1 );
  k14 := power( Nai , 2.0 ) * ( 1.0 + Nai / K3ni ) * exp( Qn * Em * F / ( 2.0 * R * T )) / ( K1ni * K2ni * D1 );
  D1 := 1.0 + Cai / Kci * ( 1.0 + exp(-(( Em * Qci * F / ( R * T ))))) * ( Cai * Nai / ( Kci * Kcni )) + Nai / K1ni * ( 1.0 + Nai / K2ni * ( 1.0 + Nai / K3ni ));
  D2 := 1.0 + Cao / Kco * ( 1.0 + exp( Qco * Em * F / ( R * T ))) + Nao / K1no * ( 1.0 + Nao / K2no ) * ( 1.0 + Nao / K3no );

  // Variable initializations:
  kNaCa = 2.249E3;
  Qci = 1.421E-1;
  Qn = 2.650E-1;
  Qco = 0.0;
  K3ni = 2.490E1;
  Kci = 6.510E-3;
  K1ni = 3.938E2;
  K2ni = 2.286;
  Kcni = 2.568E1;
  K3no = 6.325;
  K1no = 2.200E3;
  K2no = 7.639E2;
  Kco = 3.299;
end

model lovell_cloherty_celler_dokos_2004_version01__hyperpolarisation_activated_current(i_f, i_fNa, i_fK, Ko, E_Na, E_K, time_, Em)

  // Assignment Rules:
  i_f := i_fNa + i_fK;
  i_fNa := A_f * (power( Ko , 1.83 ) / (power( Ko , 1.83 ) + power( Km_f , 1.83 ))) * g_f_Na * ( Em - E_Na );
  i_fK := A_f * (power( Ko , 1.83 ) / (power( Ko , 1.83 ) + power( Km_f , 1.83 ))) * P_f_K * g_f_K * ( Em - E_K );
  alpha1 := alpha1_infinity + ( alpha1_0 - alpha1_infinity ) / ( 1.0 + exp(( Em - alpha1_E50 ) / alpha1_Eslope ));
  alpha2 := alpha2_infinity + ( alpha2_0 - alpha2_infinity ) / ( 1.0 + exp(( Em - alpha2_E50 ) / alpha2_Eslope ));
  alpha3 := alpha3_infinity + ( alpha3_0 - alpha3_infinity ) / ( 1.0 + exp(( Em - alpha3_E50 ) / alpha3_Eslope ));
  beta1 := beta1_infinity + ( beta1_0 - beta1_infinity ) / ( 1.0 + exp(( Em - beta1_E50 ) / beta1_Eslope ));
  beta3 := beta3_infinity + ( beta3_0 - beta3_infinity ) / ( 1.0 + exp(( Em - beta3_E50 ) / beta3_Eslope ));

  // Rate Rules:
  A_f' = alpha1 * I2 - ( beta1 + alpha2 ) * A_f;
  I1' = alpha2 * A_f + beta3 * I2 - alpha3 * I1;
  I2' = alpha3 * I1 + beta1 * A_f - ( beta3 + alpha1 ) * I2;

  // Variable initializations:
  P_f_K = 1.162;
  g_f_Na = 5.031E2;
  A_f = 3.716E-4;
  Km_f = 1.030E1;
  I1 = 9.972E-1;
  alpha1_0 = 1.244;
  alpha1_infinity = 2.157;
  alpha1_E50 = -4.973E1;
  alpha1_Eslope = 9.458;
  alpha2_0 = 0.0;
  alpha2_infinity = 6.951;
  alpha2_E50 = -6.658E1;
  alpha2_Eslope = 1.013E1;
  alpha3_0 = 5.826;
  alpha3_infinity = 0.0;
  alpha3_E50 = -1.235E2;
  alpha3_Eslope = 1.036E1;
  beta1_0 = 9.584E-3;
  beta1_infinity = 2.619E1;
  beta1_E50 = -2.529E1;
  beta1_Eslope = 6.206;
  beta3_0 = 0.0;
  beta3_infinity = 1.507E1;
  beta3_E50 = -7.443;
  beta3_Eslope = 1.323E1;
end

model lovell_cloherty_celler_dokos_2004_version01__sodium_potassium_pump_current(i_NaK, Nai, Ko, Em)

  // Assignment Rules:
  i_NaK := Ip_max * ( Nai / ( Nai + Km_Na )) * ( Ko / ( Ko + Km_K )) * ( 1.0 - power(( Em - 40.0 ) / 211.0 , 2.0 ));

  // Variable initializations:
  Km_K = 4.0E1;
  Km_Na = 1.0;
  Ip_max = 2.463E2;
end

model lovell_cloherty_celler_dokos_2004_version01__transient_outward_current(i_to, E_K, time_, Em)

  // Assignment Rules:
  i_to := g_to * A_to * ( Em - E_K );
  alpha1 := alpha1_infinity + ( alpha1_0 - alpha1_infinity ) / ( 1.0 + exp(( Em - alpha1_E50 ) / alpha1_Eslope ));
  alpha2 := alpha2_infinity + ( alpha2_0 - alpha2_infinity ) / ( 1.0 + exp(( Em - alpha2_E50 ) / alpha2_Eslope ));
  alpha3 := alpha3_infinity + ( alpha3_0 - alpha3_infinity ) / ( 1.0 + exp(( Em - alpha3_E50 ) / alpha3_Eslope ));
  alpha4 := alpha4_infinity + ( alpha4_0 - alpha4_infinity ) / ( 1.0 + exp(( Em - alpha4_E50 ) / alpha4_Eslope ));
  beta1 := beta1_infinity + ( beta1_0 - beta1_infinity ) / ( 1.0 + exp(( Em - beta1_E50 ) / beta1_Eslope ));
  beta4 := beta4_infinity + ( beta4_0 - beta4_infinity ) / ( 1.0 + exp(( Em - beta4_E50 ) / beta4_Eslope ));

  // Rate Rules:
  A_to' = alpha1 * I3 - ( beta1 + alpha2 ) * A_to;
  I1' = alpha2 * A_to - alpha3 * I1;
  I2' = alpha3 * I1 + beta4 * I3 - alpha4 * I2;
  I3' = beta1 * A_to + alpha4 * I2 - ( alpha1 + beta4 ) * I3;

  // Variable initializations:
  g_to = 2.818E-1;
  A_to = 1.220E-2;
  I1 = 6.310E-1;
  I2 = 2.697E-2;
  alpha1_0 = 3.723;
  alpha1_infinity = 3.244E2;
  alpha1_E50 = 2.695E1;
  alpha1_Eslope = 1.808E1;
  alpha2_0 = 3.713E2;
  alpha2_infinity = 1.288E2;
  alpha2_E50 = -9.952E1;
  alpha2_Eslope = 1.706E1;
  alpha3_0 = 4.309;
  alpha3_infinity = 3.371E1;
  alpha3_E50 = 1.886E1;
  alpha3_Eslope = 1.485E1;
  alpha4_0 = 1.167E2;
  alpha4_infinity = 1.997E2;
  alpha4_E50 = -8.894E1;
  alpha4_Eslope = 8.432E1;
  beta1_0 = 2.729E-2;
  beta1_infinity = 1.451E2;
  beta1_E50 = -1.075E1;
  beta1_Eslope = 5.012;
  beta4_0 = 2.805E-1;
  beta4_infinity = 7.776;
  beta4_E50 = -1.176E2;
  beta4_Eslope = 1.032E2;
end

model lovell_cloherty_celler_dokos_2004_version01__background_currents(i_bNa, i_bCl, i_bK, E_Cl, g_Na, E_Na, Em, R, T, F, Ki, Ko)

  // Assignment Rules:
  i_bNa := g_Na * ( Em - E_Na );
  i_bCl := g_bCl * ( Em - E_Cl );
  i_bK := Kb_K * power( Ko , 0.41 ) * ( Ki - Ko * exp(-(( Em * F / ( R * T )))));

  // Variable initializations:
  g_bCl = 8.691E-2;
end

model lovell_cloherty_celler_dokos_2004_version01__calcium_dynamics(i_Ca_up, i_Ca_rel, i_Ca_tr, Vrel, time_, F, Cai, Carel, Caup)

  // Assignment Rules:
  i_Ca_up := Iup_max * ( 1.0 / ( 1.0 + power( Km_Caup / Cai , 2.0 )));
  i_Ca_rel := 2.0 * F * Vrel / tau_rel * Carel * ( 1.0 / ( 1.0 + power( Km_Carel / Cai , 2.0 )));
  i_Ca_tr := 2.0 * F * Vrel / tau_tr * Caup;

  // Variable initializations:
  Iup_max = 2.120E1;
  Km_Caup = 5.000E-4;
  Km_Carel = 1.000E-3;
  tau_rel = 5.000E-3;
  tau_tr = 4.000E-1;
end

model lovell_cloherty_celler_dokos_2004_version01__ion_concentrations(Cai, Cao, Caup, Carel, Nai, Nao, Ki, Ko, Cli, Clo, Vrel, time_, F, i_bNa, i_bK, i_fNa, i_fK, i_bCl, i_CaL, i_CaT, i_NaCa, i_Ca_rel, i_Ca_tr, i_Ca_up, i_NaK, i_Na, i_Kr_Na, i_Ks_Na, i_Kr_K, i_Ks_K, i_to)

  // Rate Rules:
  Cai' = -((( i_CaL + i_CaT + i_Ca_up - ( 2.0 * i_NaCa + i_Ca_rel )) / ( 2.0 * F * Vi )));
  Cao' = ( i_CaL + i_CaT - 2.0 * i_NaCa ) / ( 2.0 * F * Ve ) + ( Cab - Cao ) / tau_b;
  Caup' = ( i_Ca_up - i_Ca_tr ) / ( 2.0 * F * Vup );
  Carel' = ( i_Ca_tr - i_Ca_rel ) / ( 2.0 * F * Vrel );
  Nai' = -((( i_Kr_Na + i_Ks_Na + i_Na + 3.0 * i_NaCa + i_bNa + i_fNa + 3.0 * i_NaK ) / ( F * Vi )));
  Nao' = ( i_Kr_Na + i_Ks_Na + i_Na + 3.0 * i_NaCa + i_bNa + i_fNa + 3.0 * i_NaK ) / ( F * Ve ) + ( Nab - Nao ) / tau_b;
  Ki' = -((( i_Kr_K + i_Ks_K + i_bK + i_fK + i_to - 2.0 * i_NaK ) / ( F * Vi )));
  Ko' = ( i_Kr_K + i_Ks_K + i_bK + i_fK + i_to - 2.0 * i_NaK ) / ( F * Ve ) + ( Kb - Ko ) / tau_b;
  Cli' = i_bCl / ( F * Vi );
  Clo' = i_bCl / ( F * Ve ) + ( Clb - Clo ) / tau_b;

  // Variable initializations:
  Cai = 1.275E-4;
  Cao = 2.0;
  Caup = 1.035;
  Carel = 2.448E-1;
  Nai = 8.004;
  Nao = 1.400E2;
  Ki = 1.499E2;
  Ko = 5.389;
  Cli = 2.607E1;
  Clo = 1.400E2;
  Vrel = 1.5E-2;
  tau_b = 1.0E-1;
  Cab = 2.0;
  Clb = 1.4E2;
  Kb = 5.4;
  Nab = 1.4E2;
  Vi = 2.5;
  Vup = 3.5E-2;
  Ve = 5.0E-1;
end

model lovell_cloherty_celler_dokos_2004_version01____main()

  // Sub-modules, and any changes to those submodules:
  environment: lovell_cloherty_celler_dokos_2004_version01__environment(time_);
  membrane: lovell_cloherty_celler_dokos_2004_version01__membrane(Em, time_, i_f, i_Kr, i_Ks, i_bNa, i_Na, i_NaK, i_NaCa, i_to, i_CaL, i_CaT, i_bK, i_bCl);
  reversal_potentials: lovell_cloherty_celler_dokos_2004_version01__reversal_potentials(E_Na, E_Cl, E_Ca_rev, E_K, R, T, F, Nai, Nao, Cai, Cao, Ki, Ko, Cli, Clo);
  L_type_calcium_current: lovell_cloherty_celler_dokos_2004_version01__L_type_calcium_current(i_CaL, E_Ca_rev, time_, Em, Cai);
  T_type_calcium_current: lovell_cloherty_celler_dokos_2004_version01__T_type_calcium_current(i_CaT, E_Ca_rev, time_, Em);
  rapid_delayed_rectifying_potassium_current: lovell_cloherty_celler_dokos_2004_version01__rapid_delayed_rectifying_potassium_current(i_Kr, i_Kr_Na, i_Kr_K, E_Na, E_K, time_, Em);
  slow_delayed_rectifying_potassium_current: lovell_cloherty_celler_dokos_2004_version01__slow_delayed_rectifying_potassium_current(i_Ks, i_Ks_Na, i_Ks_K, E_Na, E_K, time_, Em);
  TTX_sensitive_sodium_current: lovell_cloherty_celler_dokos_2004_version01__TTX_sensitive_sodium_current(i_Na, g_Na, E_Na, time_, Em);
  sodium_calcium_exchange_current: lovell_cloherty_celler_dokos_2004_version01__sodium_calcium_exchange_current(i_NaCa, Cai, Cao, Nao, Nai, R, T, F, Em);
  hyperpolarisation_activated_current: lovell_cloherty_celler_dokos_2004_version01__hyperpolarisation_activated_current(i_f, i_fNa, i_fK, Ko, E_Na, E_K, time_, Em);
  sodium_potassium_pump_current: lovell_cloherty_celler_dokos_2004_version01__sodium_potassium_pump_current(i_NaK, Nai, Ko, Em);
  transient_outward_current: lovell_cloherty_celler_dokos_2004_version01__transient_outward_current(i_to, E_K, time_, Em);
  background_currents: lovell_cloherty_celler_dokos_2004_version01__background_currents(i_bNa, i_bCl, i_bK, E_Cl, g_Na, E_Na, Em, R, T, F, Ki, Ko);
  calcium_dynamics: lovell_cloherty_celler_dokos_2004_version01__calcium_dynamics(i_Ca_up, i_Ca_rel, i_Ca_tr, Vrel, time_, F, Cai, Carel, Caup);
  ion_concentrations: lovell_cloherty_celler_dokos_2004_version01__ion_concentrations(Cai, Cao, Caup, Carel, Nai, Nao, Ki, Ko, Cli, Clo, Vrel, time_, F, i_bNa, i_bK, i_fNa, i_fK, i_bCl, i_CaL, i_CaT, i_NaCa, i_Ca_rel, i_Ca_tr, i_Ca_up, i_NaK, i_Na, i_Kr_Na, i_Ks_Na, i_Kr_K, i_Ks_K, i_to);
end
