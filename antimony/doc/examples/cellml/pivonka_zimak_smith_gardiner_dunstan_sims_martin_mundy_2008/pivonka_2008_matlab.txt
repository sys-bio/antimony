//Created by libAntimony v1.4
model pivonka_2008__environment(time_)
end

model pivonka_2008__OB_p(OB_p, pi_TGF_beta_act, pi_TGF_beta_rep, D_OB_p, time_)

  // Rate Rules:
  OB_p' = D_OB_u * pi_TGF_beta_act - D_OB_p * pi_TGF_beta_rep * OB_p + pd_OB_p;

  // Variable initializations:
  OB_p = 6.194e-4;
  D_OB_u = 7.000e-4;
  pd_OB_p = 0.0;
end

model pivonka_2008__OB_a(OB_a, pi_TGF_beta_rep, D_OB_p, OB_p, time_)

  // Rate Rules:
  OB_a' = D_OB_p * pi_TGF_beta_rep * OB_p - A_OB_a * OB_a + pd_OB_a;

  // Variable initializations:
  OB_a = 5.584e-4;
  A_OB_a = 1.890e-1;
  pd_OB_a = 0.0;
end

model pivonka_2008__OC_a(OC_a, pi_RANKL_act, pi_TGF_beta_act, time_)

  // Assignment Rules:
  D_OC_p := piecewise( 2.100E-2 , ( time_ > 0.0) && (time_ <= 100.0 ), 2.100E-3 );

  // Rate Rules:
  OC_a' = D_OC_p * pi_RANKL_act - A_OC_a * pi_TGF_beta_act * OC_a + pd_OC_a;

  // Variable initializations:
  OC_a = 8.070e-4;
  A_OC_a = 7.000e-1;
  pd_OC_a = 0.0;
end

model pivonka_2008__BV(OC_a, OB_a, time_)

  // Rate Rules:
  BV' = k_form * ( OB_a - OB_a_initial ) - k_res * ( OC_a - OC_a_initial );

  // Variable initializations:
  BV = 100.0;
  OC_a_initial = 1.0;
  OB_a_initial = 1.0;
  k_form = 1.571e0;
  k_res = 200.00;
end

model pivonka_2008__TGF_beta(pi_TGF_beta_act, pi_TGF_beta_rep, OC_a)

  // Assignment Rules:
  pi_TGF_beta_act := alpha * OC_a / ( KD_TGF_activate + alpha * OC_a );
  pi_TGF_beta_rep := 1 / ( 1 + alpha * OC_a / KD_TGF_repress );

  // Variable initializations:
  KD_TGF_repress = 1.416e-3;
  KD_TGF_activate = 4.545e-3;
  alpha = 1.0;
end

model pivonka_2008__PTH(pi_PTH_act, pi_PTH_rep)

  // Assignment Rules:
  pi_PTH_act := PTH_tot / ( PTH_tot + KD_PTH_activate );
  pi_PTH_rep := 1 / ( 1 + PTH_tot / KD_PTH_repress );
  PTH_tot := ( beta_PTH + P_PTH_d ) / Deg_PTH;

  // Variable initializations:
  beta_PTH = 2.500e2;
  Deg_PTH = 8.600e1;
  P_PTH_d = 0.0;
  KD_PTH_repress = 1.5e2;
  KD_PTH_activate = 2.226e-1;
end

model pivonka_2008__OPG(OPG, pi_PTH_rep, OB_p, OB_a)

  // Assignment Rules:
  OPG := ( P_OPG_d + OPG_eff ) / ( OPG_eff / OPG_max + Deg_OPG );
  OPG_eff := ( beta1_OB_p_OPG * beta_OPG * OB_p + beta2_OB_a_OPG * beta_OPG * OB_a ) * pi_PTH_rep;
  Degr_OPG := Deg_OPG * OPG;
  prod_OPG := OPG_eff * ( 1 - OPG / OPG_max ) + P_OPG_d;

  // Variable initializations:
  beta_OPG = 1.625e8;
  beta1_OB_p_OPG = 0.0;
  beta2_OB_a_OPG = 1.0;
  OPG_max = 2.000e8;
  P_OPG_d = 0.0;
  Deg_OPG = 3.500e-1;
end

model pivonka_2008__RANKL(pi_RANKL_act, pi_PTH_act, OB_p, OB_a, OPG)

  // Assignment Rules:
  pi_RANKL_act := RANKL_RANK / ( KD_RANKL_activate + RANKL_RANK );
  RANKL := ( beta_RANKL + P_RANKL_d ) / ( RANKL_tot * ( beta_RANKL / RANKL_eff + Deg_RANKL ));
  RANKL_eff := ( K_RANKL_OB_p * OB_p + K_RANKL_OB_a * OB_a ) * pi_PTH_act;
  RANKL_tot := 1 + K_A2_RANKL * RANK + K_A1_RANKL * OPG;
  K_RANKL_OB_p := R1_OB_p_RANKL * R_RANKL;
  K_RANKL_OB_a := R2_OB_a_RANKL * R_RANKL;
  OPG_RANKL := K_A1_RANKL * OPG * RANKL;
  RANKL_RANK := K_A2_RANKL * RANKL * RANK;
  pd_RANKL := beta_RANKL * ( 1 - RANKL * ( RANKL_tot / RANKL_eff )) - Deg_RANKL * RANKL * RANKL_tot + P_RANKL_d;

  // Variable initializations:
  K_A2_RANKL = 3.412e-2;
  K_A1_RANKL = 1.000e-3;
  RANK = 1.000e1;
  R_RANKL = 2.703e6;
  P_RANKL_d = 0.0;
  R1_OB_p_RANKL = 1.0;
  R2_OB_a_RANKL = 0.0;
  beta_RANKL = 1.684e4;
  Deg_RANKL = 1.013e1;
  KD_RANKL_activate = 4.457e0;
end

model pivonka_2008__model_parameters(D_OB_p)

  // Variable initializations:
  D_OB_p = 2.674e-1;
end

model pivonka_2008____main()

  // Sub-modules, and any changes to those submodules:
  environment: pivonka_2008__environment(time_);
  OB_p: pivonka_2008__OB_p(OB_p0, pi_TGF_beta_act, pi_TGF_beta_rep, D_OB_p, time_);
  OB_a: pivonka_2008__OB_a(OB_a0, pi_TGF_beta_rep, D_OB_p, OB_p0, time_);
  OC_a: pivonka_2008__OC_a(OC_a0, pi_RANKL_act, pi_TGF_beta_act, time_);
  BV: pivonka_2008__BV(OC_a0, OB_a0, time_);
  TGF_beta: pivonka_2008__TGF_beta(pi_TGF_beta_act, pi_TGF_beta_rep, OC_a0);
  PTH: pivonka_2008__PTH(pi_PTH_act, pi_PTH_rep);
  OPG: pivonka_2008__OPG(OPG0, pi_PTH_rep, OB_p0, OB_a0);
  RANKL: pivonka_2008__RANKL(pi_RANKL_act, pi_PTH_act, OB_p0, OB_a0, OPG0);
  model_parameters: pivonka_2008__model_parameters(D_OB_p);
end
