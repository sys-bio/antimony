//Created by libAntimony v1.4
model nelson_2000__environment(time_)
end

model nelson_2000__model_parameters(tau, delta, np, c, k, N, m)

  // Variable initializations:
  tau = 1.0;
  delta = 0.5;
  np = 1;
  c = 3;
  k = 3.43e-5;
  N = 480;
  m = 0.01;
end

model nelson_2000__uninfected_T_cells(T)

  // Assignment Rules:
  T := 180.0;
end

model nelson_2000__infected_T_cells(T_star, T, delta, m, VI, k, tau, time_)

  // Rate Rules:
  T_star' = k * T * VI * (time_ - tau) * exp(-(m) * tau) * 1 - delta / 1 * T_star;

  // Variable initializations:
  T_star = 3.6;
end

model nelson_2000__infectious_virus(VI, delta, time_, N, np, c, T_star)

  // Assignment Rules:
  log_VI := log(VI / 1 );

  // Rate Rules:
  VI' = (1 - np) * N * delta * T_star / 1 - c * VI / 1;

  // Variable initializations:
  VI = 134e3;
end

model nelson_2000__non_infectious_virus(VNI, delta, time_, N, np, c, T_star)

  // Rate Rules:
  VNI' = np * N * delta * T_star / 1 - c * VNI / 1;

  // Variable initializations:
  VNI = 0;
end

model nelson_2000__total_virus(VNI, VI)

  // Assignment Rules:
  virus_total := VI + VNI;
  log_virus_total := log(virus_total / 1 );
end

model nelson_2000____main()

  // Sub-modules, and any changes to those submodules:
  environment: nelson_2000__environment(time_);
  model_parameters: nelson_2000__model_parameters(tau, delta, np, c, k, N, m);
  uninfected_T_cells: nelson_2000__uninfected_T_cells(T);
  infected_T_cells: nelson_2000__infected_T_cells(T_star, T, delta, m, VI, k, tau, time_);
  infectious_virus: nelson_2000__infectious_virus(VI, delta, time_, N, np, c, T_star);
  non_infectious_virus: nelson_2000__non_infectious_virus(VNI, delta, time_, N, np, c, T_star);
  total_virus: nelson_2000__total_virus(VNI, VI);
end
