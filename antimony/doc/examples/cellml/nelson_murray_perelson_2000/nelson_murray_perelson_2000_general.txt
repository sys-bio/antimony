//Created by libAntimony v1.3
model nelson_2000__environment(time_)
end

model nelson_2000__model_parameters(lambda_, delta_1, delta, np, c, k, N)

  // Variable initializations:
  lambda_ = 5.0;
  delta_1 = 0.03;
  delta = 0.5;
  np = 1.0;
  c = 3;
  k = 3.43e-5;
  N = 480;
end

model nelson_2000__uninfected_T_cells(T, lambda_, delta, delta_1, time_, VI, k)

  // Rate Rules:
  T' = lambda_ * 1 - delta_1 * T / 1 - k * VI * T;

  // Variable initializations:
  T = 180.0;
end

model nelson_2000__infected_T_cells(T_star, delta, time_, VI, k, T)

  // Rate Rules:
  T_star' = k * VI * T - delta / 1 * T_star;

  // Variable initializations:
  T_star = 3.6;
end

model nelson_2000__infectious_virus(VI, delta, time_, N, np, c, T_star)

  // Assignment Rules:
  log_VI := log(VI / 1 );

  // Rate Rules:
  VI' = (1 - np) * N * delta * T_star / 1 - c * VI / 1;

  // Variable initializations:
  VI = 134e3;
end

model nelson_2000__non_infectious_virus(VNI, delta, time_, N, np, c, T_star)

  // Rate Rules:
  VNI' = np * N * delta * T_star / 1 - c * VNI / 1;

  // Variable initializations:
  VNI = 0;
end

model nelson_2000__total_virus(VNI, VI)

  // Assignment Rules:
  virus_total := VI + VNI;
  log_virus_total := log(virus_total / 1 );
end

model nelson_2000____main()

  // Sub-modules, and any changes to those submodules:
  environment: nelson_2000__environment(time_);
  model_parameters: nelson_2000__model_parameters(lambda_, delta_1, delta, np, c, k, N);
  uninfected_T_cells: nelson_2000__uninfected_T_cells(T, lambda_, delta, delta_1, time_, VI, k);
  infected_T_cells: nelson_2000__infected_T_cells(T_star, delta, time_, VI, k, T);
  infectious_virus: nelson_2000__infectious_virus(VI, delta, time_, N, np, c, T_star);
  non_infectious_virus: nelson_2000__non_infectious_virus(VNI, delta, time_, N, np, c, T_star);
  total_virus: nelson_2000__total_virus(VNI, VI);
end
