//Created by libAntimony v1.3
model potter_model_2005__environment(time_)
end

model potter_model_2005__P(P, k1, k1_, k2, k2_, kcl, D, Ca, Ci, Ra, Ri, time_)

  // Rate Rules:
  P' = k1_ * Ca + k2_ * Ci + D - (k1 * Ra * P + k2 * Ri * P + kcl * P);

  // Variable initializations:
  P = 3;
end

model potter_model_2005__Ra(Ra, k1, k1_, k3, k3_, Ca, P, Ri, time_)

  // Rate Rules:
  Ra' = k1_ * Ca + k3 * Ri - (k1 * Ra * P + k3_ * Ra);

  // Variable initializations:
  Ra = 16.9;
end

model potter_model_2005__Ri(Ri, k2, k2_, k3, k3_, Ci, P, Ra, time_)

  // Rate Rules:
  Ri' = k2_ * Ci + k3_ * Ra - (k2 * Ri * P + k3 * Ri);

  // Variable initializations:
  Ri = 1.7;
end

model potter_model_2005__Ca(Ca, k1, k1_, k4, k4_, Ci, P, Ra, time_)

  // Rate Rules:
  Ca' = k1 * Ra * P + k4 * Ci - (k1_ * Ca + k4_ * Ca);

  // Variable initializations:
  Ca = 4e-4;
end

model potter_model_2005__Ci(Ci, k2, k2_, k4, k4_, Ca, P, Ri, time_)

  // Rate Rules:
  Ci' = k2 * Ri * P + k4_ * Ca - (k2_ * Ci + k4 * Ci);

  // Variable initializations:
  Ci = 0.05;
end

model potter_model_2005__rho(Ca, Ci, P, Ra, Ri)

  // Assignment Rules:
  rho := (Ra + Ca) / (Ra + Ca + Ri + Ci);
end

model potter_model_2005__model_parameters(k1, k1_, k2, k2_, k3, k3_, k4, k4_, kcl, D, time_)

  // Assignment Rules:
  D := De + Dd;
  Dd := piecewise( dmin , time_hour / cycle_length >= j , dmax , ( time_hour - floor(time_hour / cycle_length) * cycle_length >= 0) && (time_hour - floor(time_hour / cycle_length) * cycle_length < tau_on ), dmin , ( time_hour - floor(time_hour / cycle_length) * cycle_length >= tau_on) && (time_hour - floor(time_hour / cycle_length) * cycle_length < cycle_length ) );
  cycle_length := tau_on + tau_off;
  time_hour := time_ * 1 / 3600;

  // Variable initializations:
  k1 = 1e-6;
  k1_ = 1e-3;
  k2 = 1e-7;
  k2_ = 1e-3;
  k3 = 1e-3;
  k3_ = 1e-4;
  k4 = 2e-3;
  k4_ = 0.4;
  kcl = 5e-3;
  De = 0;
  dmax = 7.5;
  dmin = 0;
  tau_on = 0.5;
  tau_off = 0.5;
  j = 9;
end

model potter_model_2005____main()

  // Sub-modules, and any changes to those submodules:
  environment: potter_model_2005__environment(time_);
  P: potter_model_2005__P(P0, k1, k1_, k2, k2_, kcl, D, Ca0, Ci0, Ra0, Ri0, time_);
  Ra: potter_model_2005__Ra(Ra0, k1, k1_, k3, k3_, Ca0, P0, Ri0, time_);
  Ri: potter_model_2005__Ri(Ri0, k2, k2_, k3, k3_, Ci0, P0, Ra0, time_);
  Ca: potter_model_2005__Ca(Ca0, k1, k1_, k4, k4_, Ci0, P0, Ra0, time_);
  Ci: potter_model_2005__Ci(Ci0, k2, k2_, k4, k4_, Ca0, P0, Ri0, time_);
  rho: potter_model_2005__rho(Ca0, Ci0, P0, Ra0, Ri0);
  model_parameters: potter_model_2005__model_parameters(k1, k1_, k2, k2_, k3, k3_, k4, k4_, kcl, D, time_);
end
