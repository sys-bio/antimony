//Created by libAntimony v1.3
model friel_1995_version01__environment(time_)
end

model friel_1995_version01__cytosolic_Ca_uptake(K_L1, Ca_o, v_i, Ca_i, time_)

  // Assignment Rules:
  K_L1 := k_L1 / v_i;
  J_L1 := k_L1 * ( Ca_i - Ca_o );
end

model friel_1995_version01__cytosolic_Ca_release(K_P1, v_i, Ca_i, time_)

  // Assignment Rules:
  K_P1 := k_P1 / v_i;
  J_P1 := k_P1 * Ca_i;
end

model friel_1995_version01__internal_store_Ca_release(K_L2, Ca_i, Ca_s, time_)

  // Assignment Rules:
  K_L2 := ( K_L2_0 + K_L2_1 ) / ( 1.0 + power( Kd_Ca / Ca_i , n ));
  J_L2 := k_L2 * ( Ca_i - Ca_s );

  // Variable initializations:
  K_L2_0 = 0.054;
  K_L2_1 = 2.4;
  Kd_Ca = 0.23;
  n = 3.8;
end

model friel_1995_version01__internal_store_Ca_uptake(K_P2, v_s, Ca_i, time_)

  // Assignment Rules:
  K_P2 := k_P2 / v_s;
  J_P2 := k_P2 * Ca_i;
end

model friel_1995_version01__cytosolic_calcium(Ca_i, Ca_o, v_i, Ca_i_ss, K_L1, K_P1, K_L2, K_P2, v_s, Ca_s, time_)

  // Assignment Rules:
  Ca_i_ss := Ca_o / (( 1.0 + K_P1 ) / K_L1 );
  gamma := v_i / v_s;

  // Rate Rules:
  Ca_i' = -(( K_L1 + K_P1 + gamma * ( K_L2 + K_P2 ))) * Ca_i + gamma * K_L2 * Ca_s + K_L1 * Ca_o;
end

model friel_1995_version01__internal_store_calcium(Ca_s, v_s, Ca_s_ss, Ca_i, Ca_i_ss, K_L2, K_P2, time_)

  // Assignment Rules:
  Ca_s_ss := Ca_i_ss / (( 1.0 + K_P2 ) / K_L2 );

  // Rate Rules:
  Ca_s' = ( K_L2 + K_P2 ) * Ca_i - K_L2 * Ca_s;
end

model friel_1995_version01____main()

  // Sub-modules, and any changes to those submodules:
  environment: friel_1995_version01__environment(time_);
  cytosolic_Ca_uptake: friel_1995_version01__cytosolic_Ca_uptake(K_L1, Ca_o, v_i, Ca_i, time_);
  cytosolic_Ca_release: friel_1995_version01__cytosolic_Ca_release(K_P1, v_i, Ca_i, time_);
  internal_store_Ca_release: friel_1995_version01__internal_store_Ca_release(K_L2, Ca_i, Ca_s, time_);
  internal_store_Ca_uptake: friel_1995_version01__internal_store_Ca_uptake(K_P2, v_s, Ca_i, time_);
  cytosolic_calcium: friel_1995_version01__cytosolic_calcium(Ca_i, Ca_o, v_i, Ca_i_ss, K_L1, K_P1, K_L2, K_P2, v_s, Ca_s, time_);
  internal_store_calcium: friel_1995_version01__internal_store_calcium(Ca_s, v_s, Ca_s_ss, Ca_i, Ca_i_ss, K_L2, K_P2, time_);
end
