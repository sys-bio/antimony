//Created by libAntimony v1.4
model plant_1981_version01__environment(time_)
end

model plant_1981_version01__membrane(V, time_, i_Na, i_Ca, i_K, i_K_Ca, i_L)

  // Rate Rules:
  V' = -(( i_Na + i_Ca + i_K + i_K_Ca + i_L )) / Cm;

  // Variable initializations:
  Cm = 1.0;
end

model plant_1981_version01__sodium_current_m_gate(m_infinity, V, time_)

  // Assignment Rules:
  m_infinity := alpha_m * ( 1.21 * V + 78.71 ) / ( alpha_m * ( 1.21 * V + 78.71 ) + beta_m * ( 1.21 * V + 78.71 ));
  alpha_m := 0.1 * ( V - 50.0 ) / ( 1.0 + -1.0 * exp(( V - 50.0 ) / -10.0 ));
  beta_m := 4.0 * exp(( V - 25.0 ) / -18.0 );
end

model plant_1981_version01__sodium_current_h_gate(h, V, time_)

  // Assignment Rules:
  h_infinity := alpha_h * ( 1.21 * V + 78.71 ) / ( alpha_h * ( 1.21 * V + 78.71 ) + beta_h * ( 1.21 * V + 78.71 ));
  alpha_h := 0.07 * exp(( V - 25.0 ) / -20.0 );
  beta_h := 0.07 * exp(( V - 55.0 ) / 10.0 ) / ( 1.0 + exp(( V - 55.0 ) / 10.0 ));
  tau_h := 1.0 / ( 0.08 * ( alpha_h * ( 1.21 * V + 78.71 ) + beta_h * ( 1.21 * V + 78.71 )));

  // Rate Rules:
  h' = ( h_infinity - h ) / tau_h;
end

model plant_1981_version01__sodium_current(i_Na, time_, V, m_infinity, h)

  // Sub-modules, and any changes to those submodules:
  sodium_current_m_gate: plant_1981_version01__sodium_current_m_gate(m_infinity, V, time_);
  sodium_current_h_gate: plant_1981_version01__sodium_current_h_gate(h, V, time_);

  // Assignment Rules:
  i_Na := g_Na * power( m_infinity , 3.0 ) * h * ( V - V_Na );

  // Variable initializations:
  g_Na = 4.0;
  V_Na = 30.0;
end

model plant_1981_version01__calcium_current_x_gate(x, V, time_)

  // Assignment Rules:
  x_infinity := 1.0 / (exp( -0.15 * ( V + 50.0 )) + 1.0 );

  // Rate Rules:
  x' = ( x_infinity - x ) / tau_x;

  // Variable initializations:
  tau_x = 235.0;
end

model plant_1981_version01__calcium_current(i_Ca, c, time_, V, x)

  // Sub-modules, and any changes to those submodules:
  calcium_current_x_gate: plant_1981_version01__calcium_current_x_gate(x, V, time_);

  // Assignment Rules:
  i_Ca := g_Ca * x * ( V - V_Ca );

  // Rate Rules:
  c' = f * ( k1 * x * ( V - V_Ca ) - c );

  // Variable initializations:
  V_Ca = 140.0;
  g_Ca = 0.004;
  f = 0.0003;
  k1 = 0.0085;
end

model plant_1981_version01__potassium_current_n_gate(n, V, time_)

  // Assignment Rules:
  n_infinity := alpha_n * ( 1.21 * V + 78.71 ) / ( alpha_n * ( 1.21 * V + 78.71 ) + beta_n * ( 1.21 * V + 78.71 ));
  alpha_n := 0.07 * ( V - 55.0 ) / ( 1.0 - exp(( V - 55.0 ) / -10.0 ));
  beta_n := 0.125 * exp(( V - 45.0 ) / -80.0 );
  tau_n := 1.0 / ( 0.08 * ( alpha_n * ( 1.21 * V + 78.71 ) + beta_n * ( 1.21 * V + 78.71 )));

  // Rate Rules:
  n' = ( n_infinity - n ) / tau_n;
end

model plant_1981_version01__potassium_current(i_K, V_K, time_, V, n)

  // Sub-modules, and any changes to those submodules:
  potassium_current_n_gate: plant_1981_version01__potassium_current_n_gate(n, V, time_);

  // Assignment Rules:
  i_K := g_K * power( n , 4.0 ) * ( V - V_K );

  // Variable initializations:
  V_K = -75.0;
  g_K = 0.3;
end

model plant_1981_version01__calcium_activated_potassium_current(i_K_Ca, time_, V, V_K, c)

  // Assignment Rules:
  i_K_Ca := power( g_K_Ca , c ) / ( 0.5 + c ) * ( V - V_K );

  // Variable initializations:
  g_K_Ca = 0.03;
end

model plant_1981_version01__leak_current(i_L, time_, V)

  // Assignment Rules:
  i_L := g_L * ( V - V_L );

  // Variable initializations:
  g_L = 0.003;
  V_L = -40.0;
end

model plant_1981_version01____main()

  // Sub-modules, and any changes to those submodules:
  environment: plant_1981_version01__environment(time_);
  membrane: plant_1981_version01__membrane(V, time_, i_Na, i_Ca, i_K, i_K_Ca, i_L);
  sodium_current: plant_1981_version01__sodium_current(i_Na, time_, V, m_infinity, h);
  calcium_current: plant_1981_version01__calcium_current(i_Ca, c, time_, V, x);
  potassium_current: plant_1981_version01__potassium_current(i_K, V_K, time_, V, n);
  calcium_activated_potassium_current: plant_1981_version01__calcium_activated_potassium_current(i_K_Ca, time_, V, V_K, c);
  leak_current: plant_1981_version01__leak_current(i_L, time_, V);
end
