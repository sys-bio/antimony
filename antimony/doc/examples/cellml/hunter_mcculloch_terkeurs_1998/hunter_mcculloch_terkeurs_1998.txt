//Created by libAntimony v1.4

//Warnings from automatic translation:
//    Unable to use the formula "A1 * (exp(-( alpha_1 ) * ( time - tau )) * dlambda_dt * tau ) + A2 * (exp(-( alpha_2 ) * ( time - tau )) * dlambda_dt * tau ) + A3 * (exp(-( alpha_3 ) * ( time - tau )) * dlambda_dt * tau )" to set the assignment rule for Q:  Loop detected:  Q's definition (A1 * (exp(-( alpha_1 ) * ( time - tau )) * dlambda_dt * tau ) + A2 * (exp(-( alpha_2 ) * ( time - tau )) * dlambda_dt * tau ) + A3 * (exp(-( alpha_3 ) * ( time - tau )) * dlambda_dt * tau )) either includes itself directly (i.e. 's5 := 6 + s5') or by proxy (i.e. 's5 := 8*d3' and 'd3 := 9*s5').

model hunter_mcculloch_terkeurs_1998_version02__environment(time_)
end

model hunter_mcculloch_terkeurs_1998_version02__calcium_transient(Ca_i, time_)

  // Rate Rules:
  Ca_i' = Ca_o + ( Ca_max - Ca_o ) * ( time_ / tau_Ca ) * exp(( 1.0 - time_ ) / tau_Ca );

  // Variable initializations:
  Ca_i = 10.0;
  Ca_max = 1.0;
  tau_Ca = 0.06;
  Ca_o = 0.01;
end

model hunter_mcculloch_terkeurs_1998_version02__TnC_Ca_binding_kinetics(Ca_b, lambda_, time_, Ca_i, To, T)

  // Rate Rules:
  Ca_b' = rho_0 * Ca_i * ( Ca_b_max - Ca_b ) - rho_1 * Ca_b * ( 1.0 - T / ( lambda_ * To ));

  // Variable initializations:
  lambda_ = 2.6;
  Ca_b_max = 2.26;
  rho_0 = 100.0;
  rho_1 = 163.0;
end

model hunter_mcculloch_terkeurs_1998_version02__thin_filament_kinetics(To, time_, Ca_b, lambda_)

  // Assignment Rules:
  To := T_ref * ( 1.0 + beta_0 * ( lambda_ - 1.0 )) * z;
  pC_50 := pC_50_ref * ( 1.0 + beta_2 * ( lambda_ - 1.0 ));
  n := n_ref * ( 1.0 + beta_1 * ( lambda_ - 1.0 ));

  // Rate Rules:
  z' = alpha_0 * (power( Ca_b / C_50 , n ) * ( 1.0 - z ) - z );

  // Variable initializations:
  C_50 = 1.0;
  pC_50_ref = 6.2;
  n_ref = 6.9;
  alpha_0 = 2.0;
  T_ref = 100.0;
  beta_0 = 1.45;
  beta_1 = 1.95;
  beta_2 = 0.31;
end

model hunter_mcculloch_terkeurs_1998_version02__crossbridge_kinetics(T, time_, To)

  // Assignment Rules:
  T := To * (( 1.0 + a * Q ) / ( 1.0 - Q ));
  dlambda_dt := alpha_1 / A1 * (( T / To - 1.0 ) / ( T / To + a ));

  // Variable initializations:
  a = 0.5;
  A1 = 50.0;
  A2 = 175.0;
  A3 = 175.0;
  alpha_1 = 33.0;
  alpha_2 = 2850.0;
  alpha_3 = 2850.0;
end

model hunter_mcculloch_terkeurs_1998_version02____main()

  // Sub-modules, and any changes to those submodules:
  environment: hunter_mcculloch_terkeurs_1998_version02__environment(time_);
  calcium_transient: hunter_mcculloch_terkeurs_1998_version02__calcium_transient(Ca_i, time_);
  TnC_Ca_binding_kinetics: hunter_mcculloch_terkeurs_1998_version02__TnC_Ca_binding_kinetics(Ca_b, lambda_, time_, Ca_i, To, T);
  thin_filament_kinetics: hunter_mcculloch_terkeurs_1998_version02__thin_filament_kinetics(To, time_, Ca_b, lambda_);
  crossbridge_kinetics: hunter_mcculloch_terkeurs_1998_version02__crossbridge_kinetics(T, time_, To);
end
