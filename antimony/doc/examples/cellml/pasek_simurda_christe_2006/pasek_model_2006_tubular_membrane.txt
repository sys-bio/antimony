//Created by libAntimony v1.4
model pasek_model_2006_tubular_membrane__membrane(Vm_t, Cmt, i_circ, time_, i_Na_t, i_Ca_t, i_Kto_t, i_Kss_t, i_f_t, i_K1_t, i_B_t, i_NaK_t, i_NaCa_t, i_CaP_t)

  // Rate Rules:
  Vm_t' = 1000 * (-((i_circ + i_Na_t + i_Ca_t + i_Kto_t + i_Kss_t + i_f_t + i_K1_t + i_B_t + i_NaK_t + i_NaCa_t + i_CaP_t)) / Cmt);

  // Variable initializations:
  Vm_t = -7.9709536e1;
end

model pasek_model_2006_tubular_membrane__sodium_current_m_gate(m, Vm_t, time_)

  // Assignment Rules:
  alpha_m := 117.26 * (Vm_t + 59.3 ) / (1 - exp(-(0.55 ) * (Vm_t + 59.3 )));
  beta_m := 3800 * exp(-(0.072 ) * (Vm_t + 61 ));

  // Rate Rules:
  m' = alpha_m * (1 - m) - beta_m * m;

  // Variable initializations:
  m = 2.1832694e-6;
end

model pasek_model_2006_tubular_membrane__sodium_current_h_gate(h, Vm_t, time_)

  // Assignment Rules:
  alpha_h := 284.4 / (1 + exp(0.0812 * (Vm_t + 115.9 )));
  beta_h := 18.77 * (Vm_t + 64.4 ) / (1 - exp(-(0.22 ) * (Vm_t + 64.4 )));

  // Rate Rules:
  h' = alpha_h * (1 - h) - beta_h * h;

  // Variable initializations:
  h = 5.8232717e-1;
end

model pasek_model_2006_tubular_membrane__sodium_current(i_Na_t, E_Na, Sms, Smt, Na_i, Na_t, K_i, K_t, R, F, T, time_, Vm_t, m, h)

  // Sub-modules, and any changes to those submodules:
  sodium_current_m_gate: pasek_model_2006_tubular_membrane__sodium_current_m_gate(m, Vm_t, time_);
  sodium_current_h_gate: pasek_model_2006_tubular_membrane__sodium_current_h_gate(h, Vm_t, time_);

  // Assignment Rules:
  i_Na_t := g_Nat * power(m, 3 ) * h * (Vm_t - log((Na_t + 0.12 * K_t) / (Na_i + 0.12 * K_i)) * (R * T / F));
  E_Na := R * T / F * ln(Na_t / Na_i);
  g_Nat := g_Na * (Sms + Smt) * fNat;

  // Variable initializations:
  g_Na = 10.0;
  fNat = 0.56;
end

model pasek_model_2006_tubular_membrane__calcium_current(i_Ca_t, Sms, Smt, time_, R, T, F, Vm_t, Ca_ss, Ca_t)

  // Assignment Rules:
  i_Ca_t := g_Cat * 4 * (Vm_t * power(F, 2 ) / (R * T)) * ((Ca_ss * exp(2 * Vm_t * power(F, 2 ) / (R * T)) - 0.341 * Ca_t) / (exp(2 * Vm_t * power(F, 2 ) / (R * T)) - 1 )) * Co * ((0.9 + C_cast / 10.0 ) * C1 + (0.1 + C_cast / 10.0 ) * C2);
  tauCo := 0.00305 * exp(-(0.0045 ) * power(Vm_t + 7 , 2 )) + 0.00105 * exp(-(0.002 ) * power(Vm_t - 18 , 2 )) + 0.00025;
  tauC1 := 0.105 * exp(-(power((Vm_t + 45 ) / 12 , 2 ))) + 0.04 / (1 + exp((-(Vm_t) + 25 ) / 25 )) + 0.015 / (1 + exp((Vm_t + 75 ) / 25 )) + 0.0017;
  tauC2 := 0.041 * exp(-(power((Vm_t + 47 ) / 12 , 2 ))) + 0.08 / (1 + exp((Vm_t + 55 ) / -(5 ))) + 0.015 / (1 + exp((Vm_t + 75 ) / 25 )) + 0.0017;
  Co_inf := 1 / (1 + exp((Vm_t + 15.3 ) / -(5 )));
  C_cast_inf := 1 / (1 + Ca_ss / 0.01 );
  C1_inf := 1 / (1 + exp((Vm_t + 26.7 ) / 5.4 ));
  C2_inf := 1 / (1 + exp((Vm_t + 26.7 ) / 5.4 ));
  g_Cat := g_Ca * (Sms + Smt) * fCat;

  // Rate Rules:
  Co' = (Co_inf - Co) / tauCo;
  C_cast' = (C_cast_inf - C_cast) / tauC_cast;
  C1' = (C1_inf - C1) / tauC1;
  C2' = (C2_inf - C2) / tauC2;

  // Variable initializations:
  Co = 2.5436520e-6;
  C_cast = 9.9570063e-1;
  C1 = 9.9785393e-1;
  C2 = 9.9994546e-1;
  tauC_cast = 0.009;
  g_Ca = 0.00021;
  fCat = 0.87;
end

model pasek_model_2006_tubular_membrane__Ca_independent_transient_outward_K_current_r_gate(r, Vm_t, time_)

  // Assignment Rules:
  tau_r := 1 / (45.16 * exp(0.03577 * (Vm_t + 50 )) + 98.9 * exp(-(0.1 ) * (Vm_t + 38 )));
  r_max := 1 / (1 + exp((Vm_t + 10.6 ) / -(11.42 )));

  // Rate Rules:
  r' = (r_max - r) / tau_r;

  // Variable initializations:
  r = 2.3485094e-3;
end

model pasek_model_2006_tubular_membrane__Ca_independent_transient_outward_K_current_s_gate(s, Vm_t, time_)

  // Assignment Rules:
  tau_t := 0.35 * exp(-(power(0.0666 * (Vm_t + 70 ), 2 ))) + 0.035;
  s_max := 1 / (1 + exp((Vm_t + 45.3 ) / 6.8841 ));

  // Rate Rules:
  s' = (s_max - s) / tau_t;

  // Variable initializations:
  s = 9.8315865e-1;
end

model pasek_model_2006_tubular_membrane__Ca_independent_transient_outward_K_current_s_slow_gate(s_slow, Vm_t, time_)

  // Assignment Rules:
  tau_s_slow := 3.7 * exp(-(power(0.0333 * (Vm_t + 70 ), 2 ))) + 0.035;
  s_slow_max := 1 / (1 + exp((Vm_t + 45.3 ) / 6.8841 ));

  // Rate Rules:
  s_slow' = (s_slow_max - s_slow) / tau_s_slow;

  // Variable initializations:
  s_slow = 6.7478532e-1;
end

model pasek_model_2006_tubular_membrane__Ca_independent_transient_outward_K_current(i_Kto_t, E_K, Sms, Smt, time_, Vm_t, R, F, T, K_t, K_i, r, s, s_slow)

  // Sub-modules, and any changes to those submodules:
  Ca_independent_transient_outward_K_current_r_gate: pasek_model_2006_tubular_membrane__Ca_independent_transient_outward_K_current_r_gate(r, Vm_t, time_);
  Ca_independent_transient_outward_K_current_s_gate: pasek_model_2006_tubular_membrane__Ca_independent_transient_outward_K_current_s_gate(s, Vm_t, time_);
  Ca_independent_transient_outward_K_current_s_slow_gate: pasek_model_2006_tubular_membrane__Ca_independent_transient_outward_K_current_s_slow_gate(s_slow, Vm_t, time_);

  // Assignment Rules:
  i_Kto_t := g_Ktot * r * (a * s + b * s_slow) * (Vm_t - E_K);
  E_K := R * T / F * ln(K_t / K_i);
  g_Ktot := g_Kto * (Sms + Smt) * fKtot;

  // Variable initializations:
  a = 0.886;
  b = 0.114;
  g_Kto = 0.35;
  fKtot = 0.56;
end

model pasek_model_2006_tubular_membrane__steady_state_outward_K_current_r_ss_gate(r_ss, Vm_t, time_)

  // Assignment Rules:
  tau_r_ss := 10 / (45.16 * exp(0.03577 * (Vm_t + 50 )) + 98.9 * exp(-(0.1 ) * (Vm_t + 38 )));
  r_ss_max := 1 / (1 + exp(-((Vm_t + 11.5 )) / 11.82 ));

  // Rate Rules:
  r_ss' = (r_ss_max - r_ss) / tau_r_ss;

  // Variable initializations:
  r_ss = 3.1079241e-3;
end

model pasek_model_2006_tubular_membrane__steady_state_outward_K_current_s_ss_gate(s_ss, Vm_t, time_)

  // Assignment Rules:
  tau_s_ss := 2.1;
  s_ss_max := 1 / (1 + exp((Vm_t + 87.5 ) / 10.3 ));

  // Rate Rules:
  s_ss' = (s_ss_max - s_ss) / tau_s_ss;

  // Variable initializations:
  s_ss = 3.0773368e-1;
end

model pasek_model_2006_tubular_membrane__steady_state_outward_K_current(i_Kss_t, Sms, Smt, time_, Vm_t, E_K, r_ss, s_ss)

  // Sub-modules, and any changes to those submodules:
  steady_state_outward_K_current_r_ss_gate: pasek_model_2006_tubular_membrane__steady_state_outward_K_current_r_ss_gate(r_ss, Vm_t, time_);
  steady_state_outward_K_current_s_ss_gate: pasek_model_2006_tubular_membrane__steady_state_outward_K_current_s_ss_gate(s_ss, Vm_t, time_);

  // Assignment Rules:
  i_Kss_t := g_Ksst * r_ss * s_ss * (Vm_t - E_K);
  g_Ksst := g_Kss * (Sms + Smt) * fKsst;

  // Variable initializations:
  g_Kss = 0.07;
  fKsst = 0.76;
end

model pasek_model_2006_tubular_membrane__inward_rectifier(i_K1_t, Sms, Smt, time_, Vm_t, R, F, T, K_t, E_K)

  // Assignment Rules:
  i_K1_t := g_K1t * (Vm_t - (E_K + 1.73 )) / (1 + exp(1.613 * F / (R * T) * (Vm_t - (E_K + 1.73 )))) * (1 + exp(-((K_t - 0.9988 )) / 0.124 ));
  g_K1t := g_K1 * (Sms + Smt) * fK1t;

  // Variable initializations:
  g_K1 = 0.24;
  fK1t = 0.56;
end

model pasek_model_2006_tubular_membrane__hyperpolarisation_activated_current_y_gate(y, Vm_t, time_)

  // Assignment Rules:
  tau_y := 1 / (0.11885 * exp((Vm_t + 80 ) / 28.37 ) + 0.5623 * exp((Vm_t + 80 ) / -(14.19 )));
  y_infinity := 1 / (1 + exp((Vm_t + 138.6 ) / 10.48 ));

  // Rate Rules:
  y' = (y_infinity - y) / tau_y;

  // Variable initializations:
  y = 3.4357175e-3;
end

model pasek_model_2006_tubular_membrane__hyperpolarisation_activated_current(i_f_t, i_fNa_t, i_fK_t, Sms, Smt, time_, Vm_t, E_K, E_Na, y)

  // Sub-modules, and any changes to those submodules:
  hyperpolarisation_activated_current_y_gate: pasek_model_2006_tubular_membrane__hyperpolarisation_activated_current_y_gate(y, Vm_t, time_);

  // Assignment Rules:
  i_f_t := g_ft * y * (0.2 * (Vm_t - E_Na) + 0.8 * (Vm_t - E_K));
  i_fNa_t := g_ft * y * f_Na * (Vm_t - E_Na);
  i_fK_t := g_ft * y * f_K * (Vm_t - E_K);
  g_ft := g_f * (Sms + Smt) * fft;
  f_K := 1 - f_Na;

  // Variable initializations:
  g_f = 0.0145;
  fft = 0.56;
  f_Na = 0.2;
end

model pasek_model_2006_tubular_membrane__background_currents(i_B_t, i_BNa_t, i_BCa_t, i_BK_t, Sms, Smt, E_Na, E_K, Ca_t, Ca_i, R, T, F, Vm_t)

  // Assignment Rules:
  i_B_t := i_BNa_t + i_BCa_t + i_BK_t;
  i_BNa_t := g_B_Nat * (Vm_t - E_Na);
  i_BCa_t := g_B_Cat * (Vm_t - E_Ca);
  i_BK_t := g_B_Kt * (Vm_t - E_K);
  g_B_Cat := g_B_Ca * (Sms + Smt) * fCabt;
  g_B_Nat := g_B_Na * (Sms + Smt) * fNabt;
  g_B_Kt := g_B_K * (Sms + Smt) * fKbt;

  // Variable initializations:
  g_B_Ca = 0.000648;
  g_B_Na = 0.0008015;
  g_B_K = 0.00138;
  fCabt = 0.56;
  fNabt = 0.56;
  fKbt = 0.56;
  E_Ca = 65;
end

model pasek_model_2006_tubular_membrane__sodium_potassium_pump(i_NaK_t, Sms, Smt, K_t, Na_t, Na_i, R, F, T, Vm_t)

  // Assignment Rules:
  i_NaK_t := i_NaK_max_t / (1 + 0.1245 * exp(-(0.1 ) * Vm_t * F / (R * T)) + 0.0365 * sigma * exp(-(Vm_t) * F / (R * T))) * K_t / (K_t + K_m_K) / (1 + power(K_m_Na / Na_i, 1.5 ));
  i_NaK_max_t := i_NaK_max * (Sms + Smt) * fNaKt;
  sigma := (exp(Na_t / 67.3 ) - 1 ) / 7;

  // Variable initializations:
  i_NaK_max = 1;
  fNaKt = 0.59;
  K_m_K = 1.5;
  K_m_Na = 10;
end

model pasek_model_2006_tubular_membrane__sarcolemmal_calcium_pump_current(i_CaP_t, Sms, Smt, Ca_i, time_)

  // Assignment Rules:
  i_CaP_t := i_CaP_max_t * Ca_i / (Ca_i + 0.0004 );
  i_CaP_max_t := i_CaP_max * (Sms + Smt) * fCaPt;

  // Variable initializations:
  i_CaP_max = 0.85;
  fCaPt = 0.56;
end

model pasek_model_2006_tubular_membrane__Na_Ca_ion_exchanger_current(i_NaCa_t, Sms, Smt, Na_i, Na_t, Ca_i, Ca_t, Vm_t, time_)

  // Assignment Rules:
  i_NaCa_t := i_NaCa_max_t * (exp(0.0187 * Vm_t) * power(Na_i, 3 ) * Ca_t - exp(-0.0187 * Vm_t) * power(Na_t, 3 ) * Ca_i) / (1 + 0.0001 * (Ca_i * power(Na_t, 3 ) + Ca_t * power(Na_i, 3 )));
  i_NaCa_max_t := i_NaCa_max * (Sms + Smt) * fNaCat;

  // Variable initializations:
  i_NaCa_max = 1.8e-4;
  fNaCat = 0.81;
end

model pasek_model_2006_tubular_membrane__tubular_membrane(Vm_t, i_Na_t, i_Ca_t, i_Kto_t, i_Kss_t, i_fNa_t, i_fK_t, i_K1_t, i_BNa_t, i_BK_t, i_BCa_t, i_NaK_t, i_NaCa_t, i_CaP_t, time_, R, T, F, Na_t, Ca_t, K_t, Na_i, Ca_i, Ca_ss, K_i, i_circ, Cmt, Sms, Smt)

  // Sub-modules, and any changes to those submodules:
  membrane: pasek_model_2006_tubular_membrane__membrane(Vm_t, Cmt, i_circ, time_, i_Na_t, i_Ca_t, i_Kto_t, i_Kss_t, i_f_t, i_K1_t, i_B_t, i_NaK_t, i_NaCa_t, i_CaP_t);
  sodium_current: pasek_model_2006_tubular_membrane__sodium_current(i_Na_t, E_Na, Sms, Smt, Na_i, Na_t, K_i, K_t, R, F, T, time_, Vm_t, m, h);
  calcium_current: pasek_model_2006_tubular_membrane__calcium_current(i_Ca_t, Sms, Smt, time_, R, T, F, Vm_t, Ca_ss, Ca_t);
  Ca_independent_transient_outward_K_current: pasek_model_2006_tubular_membrane__Ca_independent_transient_outward_K_current(i_Kto_t, E_K, Sms, Smt, time_, Vm_t, R, F, T, K_t, K_i, r, s, s_slow);
  steady_state_outward_K_current: pasek_model_2006_tubular_membrane__steady_state_outward_K_current(i_Kss_t, Sms, Smt, time_, Vm_t, E_K, r_ss, s_ss);
  inward_rectifier: pasek_model_2006_tubular_membrane__inward_rectifier(i_K1_t, Sms, Smt, time_, Vm_t, R, F, T, K_t, E_K);
  hyperpolarisation_activated_current: pasek_model_2006_tubular_membrane__hyperpolarisation_activated_current(i_f_t, i_fNa_t, i_fK_t, Sms, Smt, time_, Vm_t, E_K, E_Na, y);
  background_currents: pasek_model_2006_tubular_membrane__background_currents(i_B_t, i_BNa_t, i_BCa_t, i_BK_t, Sms, Smt, E_Na, E_K, Ca_t, Ca_i, R, T, F, Vm_t);
  sodium_potassium_pump: pasek_model_2006_tubular_membrane__sodium_potassium_pump(i_NaK_t, Sms, Smt, K_t, Na_t, Na_i, R, F, T, Vm_t);
  sarcolemmal_calcium_pump_current: pasek_model_2006_tubular_membrane__sarcolemmal_calcium_pump_current(i_CaP_t, Sms, Smt, Ca_i, time_);
  Na_Ca_ion_exchanger_current: pasek_model_2006_tubular_membrane__Na_Ca_ion_exchanger_current(i_NaCa_t, Sms, Smt, Na_i, Na_t, Ca_i, Ca_t, Vm_t, time_);
end

model pasek_model_2006_tubular_membrane____main()

  // Sub-modules, and any changes to those submodules:
  tubular_membrane: pasek_model_2006_tubular_membrane__tubular_membrane(Vm_t, i_Na_t, i_Ca_t, i_Kto_t, i_Kss_t, i_fNa_t, i_fK_t, i_K1_t, i_BNa_t, i_BK_t, i_BCa_t, i_NaK_t, i_NaCa_t, i_CaP_t, time_, R, T, F, Na_t, Ca_t, K_t, Na_i, Ca_i, Ca_ss, K_i, i_circ, Cmt, Sms, Smt);
end
