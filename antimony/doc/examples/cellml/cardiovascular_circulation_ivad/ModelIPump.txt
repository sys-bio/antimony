//Created by libAntimony v1.4
model TempIPump__TempIPump(Qvi, Qvo, t, Pvi, Pvo, Wn, Ts2, T, Kp0, Kp1, Kp2, Kp3, Kp4, Kp5, Kp6, Wi)

  // Assignment Rules:
  Qvi := -1 * Qvo;
  Qvo := (Kp0 + Kp1 * Wn + Kp2 * dPv + Kp3 * Wn * dPv + Kp4 * power(Wn, 2 ) * dPv + Kp5 * Wn * power(dPv, 2 ) + Kp6 * power(Wn, 2 ) * power(dPv, 2 )) * 16.6667;
  Wn := 1 * Wi;
  dPv := Pvo - Pvi;
end

model ParaIPump__ParaIPump(W, Kp0, Kp1, Kp2, Kp3, Kp4, Kp5, Kp6)

  // Variable initializations:
  W = 3600;
  Kp0 = 19.51840;
  Kp1 = -3.03610e-3;
  Kp2 = -1.23045;
  Kp3 = 5.78974e-4;
  Kp4 = -5.8777e-8;
  Kp5 = -1.27539e-6;
  Kp6 = 2.04834e-10;
end

model ParaHeartP__ParaHeartP(ElaMax, ElaMin, PlaIni, VlaIni, ElvMax, ElvMin, PlvIni, VlvIni, T, Tpwb, Tpww, Ts1, Ts2, CVao, CVmi, Vlv0, Vla0)

  // Variable initializations:
  ElaMax = 0.25;
  ElaMin = 0.15;
  PlaIni = 1.0;
  VlaIni = 4.0;
  ElvMax = 0.5;
  ElvMin = 0.1;
  PlvIni = 1.0;
  VlvIni = 5.0;
  T = 1.0;
  Tpwb = 0.92;
  Tpww = 0.09;
  Ts1 = 0.3;
  Ts2 = 0.45;
  CVao = 350.;
  CVmi = 400.;
  Vlv0 = 500;
  Vla0 = 20;
end

model ModelIPump__ModelIPump(Qi, Qo, Pi_, Po, t)

  // Sub-modules, and any changes to those submodules:
  IPump: TempIPump__TempIPump(Qi, Qo, t, Pi_, Po, Wn, Ts2, T, Kp0, Kp1, Kp2, Kp3, Kp4, Kp5, Kp6, Wi);
  ParaIPump: ParaIPump__ParaIPump(Wi, Kp0, Kp1, Kp2, Kp3, Kp4, Kp5, Kp6);
  ParaLHeart: ParaHeartP__ParaHeartP(ElaMax, ElaMin, PlaIni, VlaIni, ElvMax, ElvMin, PlvIni, VlvIni, T, Tpwb, Tpww, Ts1, Ts2, CVao, CVmi, Vlv0, Vla0);
end

model ModelIPump____main()

  // Sub-modules, and any changes to those submodules:
  ModelIPump: ModelIPump__ModelIPump(Qi, Qo, Pi_, Po, t);
end
