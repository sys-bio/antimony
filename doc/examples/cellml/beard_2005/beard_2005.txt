//Created by libAntimony v1.3
model beard_2005__Environment(t, Mg_tot, Pi_e, ADP_e)

  // Variable initializations:
  Mg_tot = 0.005;
  Pi_e = 0.000125;
  ADP_e = 0;
end

model beard_2005__Fixed_parameters(RT, F, n_A, dG_C1o, dG_C3o, dG_C4o, dG_F1o, pH_e, H_e, K_e, ATP_e, AMP_e, k_dHPi, k_dHatp, k_dHadp, K_DT, K_DD, K_AK, W_m, W_x, W_i, gamma, Ctot, Qtot, NADtot, H_i, K_i)

  // Assignment Rules:
  H_e := 1 * power(10 , -(pH_e));
  k_dHPi := 1 * power(10 , -(6.75 ));
  k_dHatp := 1 * power(10 , -(6.48 ));
  k_dHadp := 1 * power(10 , -(6.29 ));
  W_x := 0.9 * W_m;
  W_i := 0.1 * W_m;
  H_i := H_e;
  K_i := K_e;

  // Variable initializations:
  RT = 2.4734;
  F = 0.096484;
  n_A = 3;
  dG_C1o = -69.37;
  dG_C3o = -32.53;
  dG_C4o = -122.94;
  dG_F1o = 36.03;
  pH_e = 7.1;
  K_e = 0.15;
  ATP_e = 0;
  AMP_e = 0;
  K_DT = 2.4e-5;
  K_DD = 3.47e-4;
  K_AK = 0.4331;
  W_m = 0.72376;
  gamma = 5.99;
  Ctot = 0.0027;
  Qtot = 0.00135;
  NADtot = 0.00297;
end

model beard_2005__Adjustable_parameters(k_Pi1, k_Pi2, k_Pi3, k_Pi4, k_PiH, r, x_DH, x_C1, x_C3, x_C4, x_F1, x_ANT, x_Pi1, x_KH, x_Hle, x_K, k_mADP, x_AK, p_A, k_O2, x_buff, x_MgA, x_Pi2)

  // Variable initializations:
  k_Pi1 = 1.3413e-4;
  k_Pi2 = 6.7668e-4;
  k_Pi3 = 1.9172e-4;
  k_Pi4 = 0.02531;
  k_PiH = 4.5082e-4;
  r = 4.5807;
  x_DH = 0.09183;
  x_C1 = 0.36923;
  x_C3 = 0.091737;
  x_C4 = 3.2562e-5;
  x_F1 = 150.93;
  x_ANT = 0.0079204;
  x_Pi1 = 339430;
  x_KH = 2.9802e7;
  x_Hle = 250;
  x_K = 0;
  k_mADP = 3.5e-6;
  x_AK = 0;
  p_A = 85;
  k_O2 = 1.2e-4;
  x_buff = 100;
  x_MgA = 1000000;
  x_Pi2 = 327;
end

model beard_2005__Proton_motive_force(dG_H, F, dPsi, RT, H_i, H_x)

  // Assignment Rules:
  dG_H := F * dPsi + RT * ln(H_i / H_x);
end

model beard_2005__Dehydrogenase_flux(J_DH, x_DH, k_Pi1, k_Pi2, r, NAD_x, NADH_x, Pi_x)

  // Assignment Rules:
  J_DH := x_DH * (r * NAD_x - NADH_x) * (1 + Pi_x / k_Pi1) / (1 + Pi_x / k_Pi2);
end

model beard_2005__Electron_flux_complex_I(J_C1, x_C1, dG_C1o, NADH_x, NAD_x, dG_H, RT, Q, QH2, H_x)

  // Assignment Rules:
  J_C1 := x_C1 * (exp(-((dG_C1op + 4 * dG_H)) / RT) * NADH_x - NAD_x);
  dG_C1op := dG_C1o - RT * ln(H_x / 1E-7 ) - RT * ln(Q / QH2);
end

model beard_2005__Electron_flux_complex_III(J_C3, k_Pi3, k_Pi4, x_C3, dG_C3o, dG_H, RT, F, dPsi, Cox, Cred, Q, QH2, H_x, Pi_x)

  // Assignment Rules:
  J_C3 := x_C3 * (1 + Pi_x / k_Pi3) / (1 + Pi_x / k_Pi4) * (exp(-((dG_C3op + 4 * dG_H - 2 * F * dPsi)) / (2 * RT)) * Cox - Cred);
  dG_C3op := dG_C3o + 2 * RT * ln(H_x / 1E-7 ) - RT * ln(QH2 / Q);
end

model beard_2005__Electron_flux_complex_IV(J_C4, k_O2, x_C4, dG_C4o, Cred, Ctot, O2, dG_H, RT, Cox, F, dPsi, H_x)

  // Assignment Rules:
  J_C4 := x_C4 * 1 / (1 + k_O2 / O2) * Cred / Ctot * (exp(-((dG_C4op + 2 * dG_H)) / (2 * RT)) * Cred - Cox * exp(F * dPsi / RT));
  dG_C4op := dG_C4o - 2 * RT * ln(H_x / 1E-7 ) - RT / 2 * ln(O2 / 1 );
end

model beard_2005__ATP_synthesis_flux(J_F1, x_F1, dG_F1o, K_DD, K_DT, RT, n_A, dG_H, ADP_mx, Pi_x, ATP_mx)

  // Assignment Rules:
  J_F1 := x_F1 * (exp(-((dG_F1o - n_A * dG_H)) / RT) * K_DD / K_DT * ADP_mx * Pi_x - ATP_mx * 1 );
end

model beard_2005__ANT_flux(J_ANT, Psi_x, Psi_i, x_ANT, ADP_fi, ATP_fi, F, RT, dPsi, ADP_fx, ATP_fx, k_mADP)

  // Assignment Rules:
  J_ANT := piecewise( x_ANT * (ADP_fi / (ADP_fi + ATP_fi * exp(-(F) * Psi_i / RT)) - ADP_fx / (ADP_fx + ATP_fx * exp(-(F) * Psi_x / RT))) * ADP_fi / (k_mADP + ADP_fi) , ( ADP_fi > mincond) || (ATP_fi > mincond ), 0 );
  Psi_x := -(0.65 ) * dPsi;
  Psi_i := 0.35 * dPsi;

  // Variable initializations:
  mincond = 1e-12;
end

model beard_2005__MgATPx_binding_flux(J_MgATPx, ATP_fx, x_MgA, ATP_x, ATP_mx, Mg_x, K_DT)

  // Assignment Rules:
  J_MgATPx := x_MgA * (ATP_fx * Mg_x - K_DT * ATP_mx);
  ATP_fx := ATP_x - ATP_mx;
end

model beard_2005__MgADPx_binding_flux(J_MgADPx, ADP_fx, ADP_x, ADP_mx, x_MgA, K_DD, Mg_x)

  // Assignment Rules:
  J_MgADPx := x_MgA * (ADP_fx * Mg_x - K_DD * ADP_mx);
  ADP_fx := ADP_x - ADP_mx;
end

model beard_2005__MgATPi_binding_flux(J_MgATPi, ATP_fi, ATP_i, ATP_mi, x_MgA, K_DT, Mg_i)

  // Assignment Rules:
  J_MgATPi := x_MgA * (ATP_fi * Mg_i - K_DT * ATP_mi);
  ATP_fi := ATP_i - ATP_mi;
end

model beard_2005__MgADPi_binding_flux(J_MgADPi, ADP_fi, ADP_i, ADP_mi, x_MgA, K_DD, Mg_i)

  // Assignment Rules:
  J_MgADPi := x_MgA * (ADP_fi * Mg_i - K_DD * ADP_mi);
  ADP_fi := ADP_i - ADP_mi;
end

model beard_2005__ATP_substrate_flux(J_ATP, ATP_e, gamma, p_A, ATP_i)

  // Assignment Rules:
  J_ATP := gamma * p_A * (ATP_e - ATP_i);
end

model beard_2005__ADP_substrate_flux(J_ADP, gamma, p_A, ADP_e, ADP_i)

  // Assignment Rules:
  J_ADP := gamma * p_A * (ADP_e - ADP_i);
end

model beard_2005__AMP_substrate_flux(J_AMP, AMP_e, gamma, p_A, AMP_i)

  // Assignment Rules:
  J_AMP := gamma * p_A * (AMP_e - AMP_i);
end

model beard_2005__Pi_substrate_flux(J_Pi2, x_Pi2, gamma, Pi_e, Pi_i)

  // Assignment Rules:
  J_Pi2 := gamma * x_Pi2 * (Pi_e - Pi_i);
end

model beard_2005__Phosphate_hydrogen_cotransporter_flux(J_Pi1, H2PIi, H2PIx, Pi_i, H_i, k_dHPi, Pi_x, H_x, x_Pi1, k_PiH)

  // Assignment Rules:
  J_Pi1 := x_Pi1 * (H_x * H2PIi - H_i * H2PIx) / (H2PIi + k_PiH);
  H2PIi := Pi_i * H_i / (H_i + k_dHPi);
  H2PIx := Pi_x * H_x / (H_x + k_dHPi);
end

model beard_2005__Adenylate_kinase_flux(J_AKi, x_AK, K_AK, ADP_i, AMP_i, ATP_i)

  // Assignment Rules:
  J_AKi := x_AK * (K_AK * ADP_i * ADP_i - AMP_i * ATP_i);
end

model beard_2005__Hydrogen_leak_flux(J_Hle, x_Hle, dPsi, H_i, F, RT, H_x)

  // Assignment Rules:
  J_Hle := x_Hle * dPsi * (H_i * exp(F * dPsi / RT) - H_x) / (exp(F * dPsi / RT) - 1 );
end

model beard_2005__Passive_potassium_flux(J_K, x_K, dPsi, K_i, F, RT, K_x)

  // Assignment Rules:
  J_K := x_K * dPsi * (K_i * exp(F * dPsi / RT) - K_x) / (exp(F * dPsi / RT) - 1 );
end

model beard_2005__Potassium_hydrogen_flux(J_KH, x_KH, K_i, K_x, H_i, H_x)

  // Assignment Rules:
  J_KH := x_KH * (K_i * H_x - K_x * H_i);
end

model beard_2005__NAD_x_concentration(NAD_x, NADH_x, NADtot)

  // Assignment Rules:
  NAD_x := NADtot - NADH_x;
end

model beard_2005__Q_concentration(Q, Qtot, QH2)

  // Assignment Rules:
  Q := Qtot - QH2;
end

model beard_2005__Cox_concentration(Cox, Ctot, Cred)

  // Assignment Rules:
  Cox := Ctot - Cred;
end

model beard_2005__ADP_binding(ADP_me, ADP_fe, ADP_e, K_DD, Mg_tot)

  // Assignment Rules:
  ADP_me := (K_DD + ADP_e + Mg_tot - root(power(K_DD + ADP_e + Mg_tot, 2 ) - 4 * Mg_tot * ADP_e)) / 2;
  ADP_fe := ADP_e - ADP_me;
end

model beard_2005__Mg_binding(Mg_e, Mg_tot, Mg_i, ADP_me)

  // Assignment Rules:
  Mg_e := Mg_tot - ADP_me;
  Mg_i := Mg_e;
end

model beard_2005__dH_x_dt(H_x, x_buff, J_DH, J_C1, J_C3, J_C4, n_A, J_F1, J_Pi1, J_Hle, J_KH, W_x, t)

  // Rate Rules:
  H_x' = x_buff * H_x * (J_DH - 5 * J_C1 - 2 * J_C3 - 4 * J_C4 + (n_A - 1 ) * J_F1 + 2 * J_Pi1 + J_Hle - J_KH) / W_x;

  // Variable initializations:
  H_x = 6.30957344480193e-8;
end

model beard_2005__dK_x_dt(K_x, J_KH, J_K, W_x, t)

  // Rate Rules:
  K_x' = (J_KH + J_K) / W_x;

  // Variable initializations:
  K_x = 0.14;
end

model beard_2005__dMg_x_dt(Mg_x, J_MgATPx, J_MgADPx, W_x, t)

  // Rate Rules:
  Mg_x' = (-(J_MgATPx) - J_MgADPx) / W_x;

  // Variable initializations:
  Mg_x = 0.005;
end

model beard_2005__dNADH_x_dt(NADH_x, J_DH, J_C1, W_x, t)

  // Rate Rules:
  NADH_x' = (J_DH - J_C1) / W_x;

  // Variable initializations:
  NADH_x = 0.0015;
end

model beard_2005__dQH2_dt(QH2, J_C1, J_C3, W_x, t)

  // Rate Rules:
  QH2' = (J_C1 - J_C3) / W_x;

  // Variable initializations:
  QH2 = 8e-4;
end

model beard_2005__dCred_dt(Cred, J_C3, J_C4, W_i, t)

  // Rate Rules:
  Cred' = (2 * J_C3 - 2 * J_C4) / W_i;

  // Variable initializations:
  Cred = 0.001;
end

model beard_2005__dATP_x_dt(ATP_x, J_F1, J_ANT, W_x, t)

  // Rate Rules:
  ATP_x' = (J_F1 - J_ANT) / W_x;

  // Variable initializations:
  ATP_x = 0;
end

model beard_2005__dADP_x_dt(ADP_x, J_F1, J_ANT, W_x, t)

  // Rate Rules:
  ADP_x' = (-(J_F1) + J_ANT) / W_x;

  // Variable initializations:
  ADP_x = 0.01;
end

model beard_2005__dATP_mx_dt(ATP_mx, J_MgATPx, W_x, t)

  // Rate Rules:
  ATP_mx' = J_MgATPx / W_x;

  // Variable initializations:
  ATP_mx = 0;
end

model beard_2005__dADP_mx_dt(ADP_mx, J_MgADPx, W_x, t)

  // Rate Rules:
  ADP_mx' = J_MgADPx / W_x;

  // Variable initializations:
  ADP_mx = 0;
end

model beard_2005__dPi_x_dt(Pi_x, J_F1, J_Pi1, W_x, t)

  // Rate Rules:
  Pi_x' = (-(J_F1) + J_Pi1) / W_x;

  // Variable initializations:
  Pi_x = 0.001;
end

model beard_2005__dATP_i_dt(ATP_i, J_ATP, J_ANT, J_AKi, W_i, t)

  // Rate Rules:
  ATP_i' = (J_ATP + J_ANT + J_AKi) / W_i;

  // Variable initializations:
  ATP_i = 0;
end

model beard_2005__dADP_i_dt(ADP_i, J_ADP, J_ANT, J_AKi, W_i, t)

  // Rate Rules:
  ADP_i' = (J_ADP - J_ANT - 2 * J_AKi) / W_i;

  // Variable initializations:
  ADP_i = 0;
end

model beard_2005__dAMP_i_dt(AMP_i, J_AMP, J_AKi, W_i, t)

  // Rate Rules:
  AMP_i' = (J_AMP + J_AKi) / W_i;

  // Variable initializations:
  AMP_i = 0;
end

model beard_2005__dATP_mi_dt(ATP_mi, J_MgATPi, W_i, t)

  // Rate Rules:
  ATP_mi' = J_MgATPi / W_i;

  // Variable initializations:
  ATP_mi = 0;
end

model beard_2005__dADP_mi_dt(ADP_mi, J_MgADPi, W_i, t)

  // Rate Rules:
  ADP_mi' = J_MgADPi / W_i;

  // Variable initializations:
  ADP_mi = 0;
end

model beard_2005__dPi_i_dt(Pi_i, J_Pi1, J_Pi2, W_i, t)

  // Rate Rules:
  Pi_i' = (-(J_Pi1) + J_Pi2) / W_i;

  // Variable initializations:
  Pi_i = 0.001;
end

model beard_2005__dPsi_dt(dPsi, J_C1, J_C3, J_C4, n_A, J_F1, J_ANT, J_Hle, J_K, t)

  // Rate Rules:
  dPsi' = (4 * J_C1 + 2 * J_C3 + 4 * J_C4 - n_A * J_F1 - J_ANT - J_Hle - J_K) / C_im;

  // Variable initializations:
  dPsi = 160;
  C_im = 6.756756756756757e-6;
end

model beard_2005__dO2_dt(O2, t)

  // Rate Rules:
  O2' = 0;

  // Variable initializations:
  O2 = 2.6e-5;
end

model beard_2005____main()

  // Sub-modules, and any changes to those submodules:
  Environment: beard_2005__Environment(t, Mg_tot, Pi_e, ADP_e);
  Fixed_parameters: beard_2005__Fixed_parameters(RT, F, n_A, dG_C1o, dG_C3o, dG_C4o, dG_F1o, pH_e, H_e, K_e, ATP_e, AMP_e, k_dHPi, k_dHatp, k_dHadp, K_DT, K_DD, K_AK, W_m, W_x, W_i, gamma, Ctot, Qtot, NADtot, H_i, K_i);
  Adjustable_parameters: beard_2005__Adjustable_parameters(k_Pi1, k_Pi2, k_Pi3, k_Pi4, k_PiH, r, x_DH, x_C1, x_C3, x_C4, x_F1, x_ANT, x_Pi1, x_KH, x_Hle, x_K, k_mADP, x_AK, p_A, k_O2, x_buff, x_MgA, x_Pi2);
  Proton_motive_force: beard_2005__Proton_motive_force(dG_H, F, dPsi, RT, H_i, H_x);
  Dehydrogenase_flux: beard_2005__Dehydrogenase_flux(J_DH, x_DH, k_Pi1, k_Pi2, r, NAD_x, NADH_x, Pi_x);
  Electron_flux_complex_I: beard_2005__Electron_flux_complex_I(J_C1, x_C1, dG_C1o, NADH_x, NAD_x, dG_H, RT, Q, QH2, H_x);
  Electron_flux_complex_III: beard_2005__Electron_flux_complex_III(J_C3, k_Pi3, k_Pi4, x_C3, dG_C3o, dG_H, RT, F, dPsi, Cox, Cred, Q, QH2, H_x, Pi_x);
  Electron_flux_complex_IV: beard_2005__Electron_flux_complex_IV(J_C4, k_O2, x_C4, dG_C4o, Cred, Ctot, O2, dG_H, RT, Cox, F, dPsi, H_x);
  ATP_synthesis_flux: beard_2005__ATP_synthesis_flux(J_F1, x_F1, dG_F1o, K_DD, K_DT, RT, n_A, dG_H, ADP_mx, Pi_x, ATP_mx);
  ANT_flux: beard_2005__ANT_flux(J_ANT, Psi_x, Psi_i, x_ANT, ADP_fi, ATP_fi, F, RT, dPsi, ADP_fx, ATP_fx, k_mADP);
  MgATPx_binding_flux: beard_2005__MgATPx_binding_flux(J_MgATPx, ATP_fx, x_MgA, ATP_x, ATP_mx, Mg_x, K_DT);
  MgADPx_binding_flux: beard_2005__MgADPx_binding_flux(J_MgADPx, ADP_fx, ADP_x, ADP_mx, x_MgA, K_DD, Mg_x);
  MgATPi_binding_flux: beard_2005__MgATPi_binding_flux(J_MgATPi, ATP_fi, ATP_i, ATP_mi, x_MgA, K_DT, Mg_i);
  MgADPi_binding_flux: beard_2005__MgADPi_binding_flux(J_MgADPi, ADP_fi, ADP_i, ADP_mi, x_MgA, K_DD, Mg_i);
  ATP_substrate_flux: beard_2005__ATP_substrate_flux(J_ATP, ATP_e, gamma, p_A, ATP_i);
  ADP_substrate_flux: beard_2005__ADP_substrate_flux(J_ADP, gamma, p_A, ADP_e, ADP_i);
  AMP_substrate_flux: beard_2005__AMP_substrate_flux(J_AMP, AMP_e, gamma, p_A, AMP_i);
  Pi_substrate_flux: beard_2005__Pi_substrate_flux(J_Pi2, x_Pi2, gamma, Pi_e, Pi_i);
  Phosphate_hydrogen_cotransporter_flux: beard_2005__Phosphate_hydrogen_cotransporter_flux(J_Pi1, H2PIi, H2PIx, Pi_i, H_i, k_dHPi, Pi_x, H_x, x_Pi1, k_PiH);
  Adenylate_kinase_flux: beard_2005__Adenylate_kinase_flux(J_AKi, x_AK, K_AK, ADP_i, AMP_i, ATP_i);
  Hydrogen_leak_flux: beard_2005__Hydrogen_leak_flux(J_Hle, x_Hle, dPsi, H_i, F, RT, H_x);
  Passive_potassium_flux: beard_2005__Passive_potassium_flux(J_K, x_K, dPsi, K_i, F, RT, K_x);
  Potassium_hydrogen_flux: beard_2005__Potassium_hydrogen_flux(J_KH, x_KH, K_i, K_x, H_i, H_x);
  NAD_x_concentration: beard_2005__NAD_x_concentration(NAD_x, NADH_x, NADtot);
  Q_concentration: beard_2005__Q_concentration(Q, Qtot, QH2);
  Cox_concentration: beard_2005__Cox_concentration(Cox, Ctot, Cred);
  ADP_binding: beard_2005__ADP_binding(ADP_me, ADP_fe, ADP_e, K_DD, Mg_tot);
  Mg_binding: beard_2005__Mg_binding(Mg_e, Mg_tot, Mg_i, ADP_me);
  dH_x_dt: beard_2005__dH_x_dt(H_x, x_buff, J_DH, J_C1, J_C3, J_C4, n_A, J_F1, J_Pi1, J_Hle, J_KH, W_x, t);
  dK_x_dt: beard_2005__dK_x_dt(K_x, J_KH, J_K, W_x, t);
  dMg_x_dt: beard_2005__dMg_x_dt(Mg_x, J_MgATPx, J_MgADPx, W_x, t);
  dNADH_x_dt: beard_2005__dNADH_x_dt(NADH_x, J_DH, J_C1, W_x, t);
  dQH2_dt: beard_2005__dQH2_dt(QH2, J_C1, J_C3, W_x, t);
  dCred_dt: beard_2005__dCred_dt(Cred, J_C3, J_C4, W_i, t);
  dATP_x_dt: beard_2005__dATP_x_dt(ATP_x, J_F1, J_ANT, W_x, t);
  dADP_x_dt: beard_2005__dADP_x_dt(ADP_x, J_F1, J_ANT, W_x, t);
  dATP_mx_dt: beard_2005__dATP_mx_dt(ATP_mx, J_MgATPx, W_x, t);
  dADP_mx_dt: beard_2005__dADP_mx_dt(ADP_mx, J_MgADPx, W_x, t);
  dPi_x_dt: beard_2005__dPi_x_dt(Pi_x, J_F1, J_Pi1, W_x, t);
  dATP_i_dt: beard_2005__dATP_i_dt(ATP_i, J_ATP, J_ANT, J_AKi, W_i, t);
  dADP_i_dt: beard_2005__dADP_i_dt(ADP_i, J_ADP, J_ANT, J_AKi, W_i, t);
  dAMP_i_dt: beard_2005__dAMP_i_dt(AMP_i, J_AMP, J_AKi, W_i, t);
  dATP_mi_dt: beard_2005__dATP_mi_dt(ATP_mi, J_MgATPi, W_i, t);
  dADP_mi_dt: beard_2005__dADP_mi_dt(ADP_mi, J_MgADPi, W_i, t);
  dPi_i_dt: beard_2005__dPi_i_dt(Pi_i, J_Pi1, J_Pi2, W_i, t);
  dPsi_dt: beard_2005__dPsi_dt(dPsi, J_C1, J_C3, J_C4, n_A, J_F1, J_ANT, J_Hle, J_K, t);
  dO2_dt: beard_2005__dO2_dt(O2, t);
end
