//Created by libAntimony v1.4
model smith_crampin_2004_version01__NaK_pump(body_temp, gas_const, faraday_const, Vm, cMgADP, cNa_i, v_cyc, net_free_energy)

  // Assignment Rules:
  dimless_Na_e := cNa_e / (eq_Na_base_e * exp((1. + partition_factor) * faraday_const * 0.001 * Vm / (3.0 * gas_const * body_temp)));
  dimless_Na_i := cNa_i / (eq_Na_base_i * exp(partition_factor * faraday_const * 0.001 * Vm / (3.0 * gas_const * body_temp)));
  dimless_K_e := cK_e / eq_K_e;
  dimless_K_i := cK_i / eq_K_i;
  dimless_MgATP := cMgATP / eq_MgATP;
  alpha1 := k1 * power(dimless_Na_i, 3 ) / (power(1.0 + dimless_Na_i, 3 ) + power(1.0 + dimless_K_i, 2 ) - 1.0 );
  alpha2 := k2;
  alpha3 := k3 * power(dimless_K_e, 2 ) / (power(1.0 + dimless_Na_e, 3 ) + power(1.0 + dimless_K_e, 2 ) - 1.0 );
  alpha4 := k4 * dimless_MgATP / (1.0 + dimless_MgATP);
  minus_alpha1 := minus_k1 * cMgADP;
  minus_alpha2 := minus_k2 * power(dimless_Na_e, 3 ) / (power(1.0 + dimless_Na_e, 3 ) + power(1.0 + dimless_K_e, 2 ) - 1.0 );
  minus_alpha3 := minus_k3 * cPi * cH / (1.0 + dimless_MgATP);
  minus_alpha4 := minus_k4 * power(dimless_K_i, 2 ) / (power(1.0 + dimless_Na_i, 3 ) + power(1.0 + dimless_K_i, 2 ) - 1.0 );
  cPi := cPi_sum / (1.0 + cK_i / eq_KPi + cH / eq_HPi + cNa_i / eq_NaPi);
  dG_Na := gas_const * body_temp * ln(cNa_e / cNa_i) - faraday_const * 0.001 * Vm;
  dG_K := gas_const * body_temp * ln(cK_i / cK_e) + faraday_const * 0.001 * Vm;
  dG_pump := 2.0 * dG_K + 3.0 * dG_Na;
  dG_ATP := -29600. - gas_const * body_temp * ln(cMgATP / (0.001 * cMgADP * cPi));
  diagram_sum := minus_alpha3 * minus_alpha2 * minus_alpha1 + alpha4 * minus_alpha2 * minus_alpha1 + alpha4 * alpha2 * alpha3 + alpha4 * minus_alpha1 * alpha3 + minus_alpha3 * minus_alpha2 * alpha1 + alpha4 * minus_alpha2 * alpha1 + alpha4 * alpha1 * alpha3 + minus_alpha3 * alpha1 * alpha2 + alpha4 * alpha1 * alpha2 + alpha1 * alpha2 * alpha3 + minus_alpha4 * minus_alpha3 * minus_alpha1 + minus_alpha4 * minus_alpha3 * alpha2 + minus_alpha4 * minus_alpha3 * minus_alpha2 + minus_alpha4 * minus_alpha1 * minus_alpha2 + minus_alpha4 * alpha2 * alpha3 + minus_alpha4 * minus_alpha1 * alpha3;
  v_cyc := (alpha1 * alpha2 * alpha3 * alpha4 - minus_alpha1 * minus_alpha2 * minus_alpha3 * minus_alpha4) / diagram_sum;
  net_free_energy := dG_ATP + dG_pump;

  // Variable initializations:
  body_temp = 310.;
  gas_const = 8.314;
  faraday_const = 96485.;
  k1 = 1050.;
  minus_k1 = 172.1;
  k2 = 481.;
  minus_k2 = 40.1;
  k3 = 2000.;
  minus_k3 = 79287.1;
  k4 = 320.;
  minus_k4 = 40.1;
  eq_Na_base_e = 15.5;
  eq_Na_base_i = 2.49;
  eq_K_e = 0.213;
  eq_K_i = 0.5;
  eq_MgATP = 2.51;
  eq_HPi = 0.000169;
  eq_KPi = 292.;
  eq_NaPi = 224.;
  cNa_e = 150.;
  cK_e = 5.4;
  cK_i = 140.;
  cMgATP = 9.8;
  cPi_sum = 4.2;
  cH = 0.000081283;
  partition_factor = -0.031288692380984445;
end

model smith_crampin_2004_version01__interface(t, Vm, cMgADP, cNa_i, v_cyc, net_free_energy)

  // Sub-modules, and any changes to those submodules:
  NaK_pump: smith_crampin_2004_version01__NaK_pump(body_temp, gas_const, faraday_const, Vm, cMgADP, cNa_i, v_cyc, net_free_energy);

  // Rate Rules:
  Vm' = 1.0;
  cMgADP' = 0.0;
  cNa_i' = 0.0;

  // Variable initializations:
  Vm = -150;
  cMgADP = 0.01;
  cNa_i = 50.;
end

model smith_crampin_2004_version01____main()

  // Sub-modules, and any changes to those submodules:
  interface: smith_crampin_2004_version01__interface(t, Vm, cMgADP, cNa_i, v_cyc, net_free_energy);
end
