//Created by libAntimony v1.3
model ostby_model_2008__environment(time_)
end

model ostby_model_2008__wi(wi, Lp, Xi, Nao, Ko, Clo, HCO3o, Nai, Ki, Cli, HCO3i, time_)

  // Rate Rules:
  wi' = 1 * Lp * (Nai + Ki + Cli + HCO3i + Xi / wi - (Nao + Ko + Clo + HCO3o));

  // Variable initializations:
  wi = 0.061;
end

model ostby_model_2008__wo(wo, wi)

  // Assignment Rules:
  wo := w_tot - wi;

  // Variable initializations:
  w_tot = 0.0879;
end

model ostby_model_2008__N_Nai(N_Nai, dN_Nai_dt, gNa, ENa, Vm, J_NaKATPase, F, theta_NKCC1, J_NKCC1, theta_NBC, J_NBC, time_)

  // Assignment Rules:
  dN_Nai_dt := theta_NKCC1 * J_NKCC1 + theta_NBC * J_NBC - 1e10 * (gNa / F * (Vm - ENa) + 3 * J_NaKATPase);

  // Rate Rules:
  N_Nai' = dN_Nai_dt;

  // Variable initializations:
  N_Nai = 0.99796;
end

model ostby_model_2008__N_Ki(N_Ki, dN_Ki_dt, gK, EK, Vm, J_NaKATPase, F, theta_NKCC1, J_NKCC1, theta_KCC1, J_KCC1, time_)

  // Assignment Rules:
  dN_Ki_dt := theta_NKCC1 * J_NKCC1 + theta_KCC1 * J_KCC1 + 1e10 * 2 * J_NaKATPase - 1e10 * gK / F * (Vm - EK);

  // Rate Rules:
  N_Ki' = dN_Ki_dt;

  // Variable initializations:
  N_Ki = 5.52782;
end

model ostby_model_2008__N_HCO3i(N_HCO3i, dN_HCO3i_dt, theta_NBC, J_NBC, time_)

  // Assignment Rules:
  dN_HCO3i_dt := 2 * theta_NBC * J_NBC;

  // Rate Rules:
  N_HCO3i' = dN_HCO3i_dt;

  // Variable initializations:
  N_HCO3i = 0.58804;
end

model ostby_model_2008__N_Cli(N_Cli, dN_Ki_dt, dN_Nai_dt, dN_HCO3i_dt, time_)

  // Rate Rules:
  N_Cli' = dN_Ki_dt + dN_Nai_dt + dN_HCO3i_dt;

  // Variable initializations:
  N_Cli = 0.32879;
end

model ostby_model_2008__N_Nao(N_Nao, y, kc, gNa, ENa, Vm, J_NaKATPase, F, theta_NKCC1, J_NKCC1, theta_NBC, J_NBC, time_)

  // Rate Rules:
  N_Nao' = 1e10 * (gNa / F * (Vm - ENa) + 3 * J_NaKATPase) - (theta_NKCC1 * J_NKCC1 + theta_NBC * J_NBC + kc * y);

  // Variable initializations:
  N_Nao = 4.301041;
end

model ostby_model_2008__N_Ko(N_Ko, y, kc, gK, EK, Vm, J_NaKATPase, F, theta_NKCC1, J_NKCC1, theta_KCC1, J_KCC1, time_)

  // Rate Rules:
  N_Ko' = 1e10 * gK / F * (Vm - EK) + kc * y - (theta_NKCC1 * J_NKCC1 + theta_KCC1 * J_KCC1 + 1e10 * 2 * J_NaKATPase);

  // Variable initializations:
  N_Ko = 0.0807;
end

model ostby_model_2008__N_HCO3o(N_HCO3o, theta_NBC, J_NBC, time_)

  // Rate Rules:
  N_HCO3o' = -(2 ) * theta_NBC * J_NBC;

  // Variable initializations:
  N_HCO3o = 0.432552;
end

model ostby_model_2008__N_Clo(N_Clo, N_Ko, N_Nao, N_HCO3o)

  // Assignment Rules:
  N_Clo := N_Nao + N_Ko - N_HCO3o;
end

model ostby_model_2008__Nernst_potentials(ENa, EK, ECl, T, R, F, Nao, Ko, Clo, Nai, Ki, Cli)

  // Assignment Rules:
  ENa := R * T / (1 * F) * ln(Nao / Nai);
  EK := R * T / (1 * F) * ln(Ko / Ki);
  ECl := R * T / (-(1 ) * F) * ln(Clo / Cli);
end

model ostby_model_2008__J_KCC1(J_KCC1, T, R, F, Ko, Ki, Clo, Cli, time_)

  // Assignment Rules:
  J_KCC1 := 1e10 * gKCC1 * ft / F * R * T / F * ln(Ko * Clo / (Ki * Cli));
  ft := piecewise( 1 , ( time_ >= 10) && (time_ < 20 ), 0 );

  // Variable initializations:
  gKCC1 = 1e-6;
end

model ostby_model_2008__J_NBC(J_NBC, gNBC, Vm, ENBC, F)

  // Assignment Rules:
  J_NBC := 1e10 * gNBC / F * (Vm - ENBC);

  // Variable initializations:
  gNBC = 9.03e-5;
end

model ostby_model_2008__J_NKCC1(J_NKCC1, T, R, F, Ko, Nai, Nao, Ki, Clo, Cli, time_)

  // Assignment Rules:
  J_NKCC1 := 1e10 * gNKCC1 * ft / F * R * T / F * ln(Nao / Nai * Ko / Ki * power(Clo / Cli, 2 ));
  ft := piecewise( 1 , ( time_ >= 10) && (time_ < 20 ), 0 );

  // Variable initializations:
  gNKCC1 = 5.54e-6;
end

model ostby_model_2008__ENBC(ENBC, T, R, F, HCO3o, Nai, Nao, HCO3i)

  // Assignment Rules:
  ENBC := R * T / (zNBC * F) * ln(Nao / Nai * power(HCO3o, 2 ) / power(HCO3i, 2 ));

  // Variable initializations:
  zNBC = -1;
end

model ostby_model_2008__membrane(Vm, F, J_NaKATPase, ENa, EK, ECl, ENBC, gNa, gK, gCl, gNBC, theta_NBC, time_)

  // Assignment Rules:
  Vm := (gNa * ENa + gK * EK + gCl * ECl + theta_NBC * gNBC * ENBC - J_NaKATPase * F) / (gNa + gK + gCl + theta_NBC * gNBC);
end

model ostby_model_2008__J_NaKATPase(J_NaKATPase, Nai, Ko)

  // Assignment Rules:
  J_NaKATPase := Pmax * power(Nai, 1.5 ) / (power(Nai, 1.5 ) + power(K_Nai, 1.5 )) * Ko / (Ko + K_Ko);

  // Variable initializations:
  Pmax = 1.4207e-10;
  K_Nai = 10;
  K_Ko = 1.5;
end

model ostby_model_2008__I_K(I_K, gK, EK, Vm, F, nA, elementary_charge, J_NaKATPase)

  // Assignment Rules:
  I_K := 1e10 * 2 * J_NaKATPase * F / (elementary_charge * nA) - 1e10 * gK / (elementary_charge * nA) * (Vm - EK);
end

model ostby_model_2008__I_Cl(I_Cl, gCl, ECl, Vm, nA, elementary_charge)

  // Assignment Rules:
  I_Cl := 1e10 * gCl / (elementary_charge * nA) * (Vm - ECl);
end

model ostby_model_2008__I_Na(I_Na, gNa, ENa, Vm, F, nA, elementary_charge, J_NaKATPase, J_NBC)

  // Assignment Rules:
  I_Na := J_NBC - (1e10 * gNa / (elementary_charge * nA) * (Vm - ENa) + 1e10 * 3 * J_NaKATPase * F / (elementary_charge * nA));
end

model ostby_model_2008__model_parameters(Nai, Ki, Cli, HCO3i, Nao, Ko, Clo, HCO3o, R, F, T, gNa, gK, gCl, elementary_charge, nA, Xi, kc, theta_NBC, theta_NKCC1, theta_KCC1, Lp, y, time_, N_Ki, N_Ko, N_Nai, N_Nao, N_Cli, N_Clo, N_HCO3i, N_HCO3o, wi, wo)

  // Assignment Rules:
  Nai := piecewise( N_Nai / wi , N_Nai / wi > 0 , 1e-180 );
  Ki := piecewise( N_Ki / wi , N_Ki / wi > 0 , 1e-180 );
  Cli := piecewise( N_Cli / wi , N_Cli / wi > 0 , 1e-180 );
  HCO3i := piecewise( N_HCO3i / wi , N_HCO3i / wi > 0 , 1e-180 );
  Nao := piecewise( N_Nao / wo , N_Nao / wo > 0 , 1e-180 );
  Ko := piecewise( N_Ko / wo , N_Ko / wo > 0 , 1e-180 );
  Clo := piecewise( N_Clo / wo , N_Clo / wo > 0 , 1e-180 );
  HCO3o := piecewise( N_HCO3o / wo , N_HCO3o / wo > 0 , 1e-180 );
  y := piecewise( gamma_alpha_beta / (gamma_alpha * gamma_beta) * power(1 - (time_ - t0) / deltaT, beta - 1 ) * power((time_ - t0) / deltaT, alpha - 1 ) , ( time_ >= t0) && (time_ <= t1 ), -1 , ( time_ > t1) && (time_ < t2 ), 0 );
  deltaT := t1 - t0;
  gamma_alpha_beta := factorial(alpha + beta - 1 );
  gamma_alpha := factorial(alpha - 1 );
  gamma_beta := factorial(beta - 1 );

  // Variable initializations:
  R = 8.315;
  F = 9.649e4;
  T = 300;
  gNa = 1.314e-4;
  gK = 0.004;
  gCl = 8.797e-5;
  elementary_charge = 1.6e-19;
  nA = 6.0221415e23;
  Xi = 12.41;
  kc = 7.35e-2;
  theta_NBC = 1;
  theta_NKCC1 = 1;
  theta_KCC1 = 1;
  Lp = 2.1e-4;
  t0 = 10;
  t1 = 20;
  t2 = 30;
  alpha = 2;
  beta = 14;
end

model ostby_model_2008____main()

  // Sub-modules, and any changes to those submodules:
  environment: ostby_model_2008__environment(time_);
  wi: ostby_model_2008__wi(wi0, Lp, Xi, Nao, Ko, Clo, HCO3o, Nai, Ki, Cli, HCO3i, time_);
  wo: ostby_model_2008__wo(wo0, wi0);
  N_Nai: ostby_model_2008__N_Nai(N_Nai0, dN_Nai_dt, gNa, ENa, Vm, J_NaKATPase0, F, theta_NKCC1, J_NKCC10, theta_NBC, J_NBC0, time_);
  N_Ki: ostby_model_2008__N_Ki(N_Ki0, dN_Ki_dt, gK, EK, Vm, J_NaKATPase0, F, theta_NKCC1, J_NKCC10, theta_KCC1, J_KCC10, time_);
  N_HCO3i: ostby_model_2008__N_HCO3i(N_HCO3i0, dN_HCO3i_dt, theta_NBC, J_NBC0, time_);
  N_Cli: ostby_model_2008__N_Cli(N_Cli0, dN_Ki_dt, dN_Nai_dt, dN_HCO3i_dt, time_);
  N_Nao: ostby_model_2008__N_Nao(N_Nao0, y, kc, gNa, ENa, Vm, J_NaKATPase0, F, theta_NKCC1, J_NKCC10, theta_NBC, J_NBC0, time_);
  N_Ko: ostby_model_2008__N_Ko(N_Ko0, y, kc, gK, EK, Vm, J_NaKATPase0, F, theta_NKCC1, J_NKCC10, theta_KCC1, J_KCC10, time_);
  N_HCO3o: ostby_model_2008__N_HCO3o(N_HCO3o0, theta_NBC, J_NBC0, time_);
  N_Clo: ostby_model_2008__N_Clo(N_Clo0, N_Ko0, N_Nao0, N_HCO3o0);
  Nernst_potentials: ostby_model_2008__Nernst_potentials(ENa, EK, ECl, T, R, F, Nao, Ko, Clo, Nai, Ki, Cli);
  J_KCC1: ostby_model_2008__J_KCC1(J_KCC10, T, R, F, Ko, Ki, Clo, Cli, time_);
  J_NBC: ostby_model_2008__J_NBC(J_NBC0, gNBC, Vm, ENBC0, F);
  J_NKCC1: ostby_model_2008__J_NKCC1(J_NKCC10, T, R, F, Ko, Nai, Nao, Ki, Clo, Cli, time_);
  ENBC: ostby_model_2008__ENBC(ENBC0, T, R, F, HCO3o, Nai, Nao, HCO3i);
  membrane: ostby_model_2008__membrane(Vm, F, J_NaKATPase0, ENa, EK, ECl, ENBC0, gNa, gK, gCl, gNBC, theta_NBC, time_);
  J_NaKATPase: ostby_model_2008__J_NaKATPase(J_NaKATPase0, Nai, Ko);
  I_K: ostby_model_2008__I_K(I_K0, gK, EK, Vm, F, nA, elementary_charge, J_NaKATPase0);
  I_Cl: ostby_model_2008__I_Cl(I_Cl0, gCl, ECl, Vm, nA, elementary_charge);
  I_Na: ostby_model_2008__I_Na(I_Na0, gNa, ENa, Vm, F, nA, elementary_charge, J_NaKATPase0, J_NBC0);
  model_parameters: ostby_model_2008__model_parameters(Nai, Ki, Cli, HCO3i, Nao, Ko, Clo, HCO3o, R, F, T, gNa, gK, gCl, elementary_charge, nA, Xi, kc, theta_NBC, theta_NKCC1, theta_KCC1, Lp, y, time_, N_Ki0, N_Ko0, N_Nai0, N_Nao0, N_Cli0, N_Clo0, N_HCO3i0, N_HCO3o0, wi0, wo0);
end
